{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/TypeScriptã®å‹ã§ç´ æ•°ã‚’æ±‚ã‚ãŸã„/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://sititou70.github.io"}},"markdownRemark":{"excerpt":"åˆå¿ƒè€…ãªãŒã‚‰æ€¥ã«TSã®å‹ã§éŠã³ãŸããªã‚Šï¼Œã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ãµã‚‹ã„ã‚’ä½¿ã£ã¦ç´ æ•°ã‚’æ±‚ã‚ã¾ã—ãŸï¼ ãƒªãƒã‚¸ãƒˆãƒªï¼šsititou70/ts-prime-number-type TypeScriptã¨ã¯ TypeScriptï¼Œã‚ã‚‹ã„ã¯TSã¨ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ä¸€ç¨®ã§ã‚ã‚Šï¼ŒJavaScriptâ€¦","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 256px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bd6cef6475b68f2223800108dc5ec50c/85b06/ts-logo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'400\\'%20viewBox=\\'0%200%20400%20400\\'%20preserveAspectRatio=\\'none\\'%3e%3cpath%20d=\\'M0%20200v200h401V0H0v200m307-13l-24%205-15%207c-7%205-14%2013-14%2016l-1%201c-1%200-4%209-5%2017-3%2016%207%2037%2023%2048a124%20124%200%200024%2011l9%205c10%204%2012%205%2016%209%2013%2013%206%2027-14%2030a82%2082%200%2001-32-3c-3%200-11-4-17-8l-7-4c-2%200-1%2037%200%2038l13%205c15%205%2056%205%2069%200%2012-5%2016-7%2022-13%2010-10%2013-17%2014-33%200-18-6-31-21-42l-25-14-27-14c-4-4-4-5-5-11%200-7%202-12%207-14l6-3c7-3%2032-2%2044%203l10%205%202%201%201-18c0-17%200-18-2-18l-3-1c-3-3-37-6-48-5M93%20207l1%2015h24l25%201v143h40v-72l1-71%2024-1h25v-31H93v16\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/bd6cef6475b68f2223800108dc5ec50c/509c6/ts-logo.webp 182w,\n/static/bd6cef6475b68f2223800108dc5ec50c/8d3d1/ts-logo.webp 256w\"\n              sizes=\"(max-width: 256px) 100vw, 256px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/bd6cef6475b68f2223800108dc5ec50c/e4e47/ts-logo.png 182w,\n/static/bd6cef6475b68f2223800108dc5ec50c/85b06/ts-logo.png 256w\"\n            sizes=\"(max-width: 256px) 100vw, 256px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/bd6cef6475b68f2223800108dc5ec50c/85b06/ts-logo.png\"\n            alt=\"ts logo\"\n            title=\"ts logo\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>åˆå¿ƒè€…ãªãŒã‚‰æ€¥ã«TSã®å‹ã§éŠã³ãŸããªã‚Šï¼Œã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ãµã‚‹ã„ã‚’ä½¿ã£ã¦ç´ æ•°ã‚’æ±‚ã‚ã¾ã—ãŸï¼</p>\n<p>ãƒªãƒã‚¸ãƒˆãƒªï¼š<a href=\"https://github.com/sititou70/ts-prime-number-type\">sititou70/ts-prime-number-type</a></p>\n<h2>TypeScriptã¨ã¯</h2>\n<p>TypeScriptï¼Œã‚ã‚‹ã„ã¯TSã¨ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ä¸€ç¨®ã§ã‚ã‚Šï¼ŒJavaScriptã¨å‹ã‚·ã‚¹ãƒ†ãƒ ã®æ‚ªé­”åˆä½“ã§ã™ï¼ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ãã ã•ã„ï¼</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"sititou70\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token operator\">^</span><span class=\"token operator\">^</span><span class=\"token operator\">^</span><span class=\"token operator\">^</span><span class=\"token operator\">^</span><span class=\"token operator\">^</span><span class=\"token operator\">^</span><span class=\"token operator\">^</span></code></pre></div>\n<p>ä¸‹ç·šãŒã¤ã„ã¦ã„ãªã„éƒ¨åˆ†ã¯é€šå¸¸ã®JavaScriptã§ã‚ã‚Šï¼Œä¸‹ç·šã®éƒ¨åˆ†ã¯ <strong>å‹</strong> ã‚’è¡¨ã—ã¾ã™ï¼ã“ã®ä¾‹ã§ã¯<code class=\"language-text\">string</code>å‹ã®<code class=\"language-text\">name</code>å¤‰æ•°ã«<code class=\"language-text\">\"sititou70\"</code>ã‚’ä»£å…¥ã—ã¦ã„ã¾ã™ï¼</p>\n<p>ãã—ã¦ä»Šå›ã®è¨˜äº‹ã§ã¯ï¼Œ <strong>JavaScriptã‚’ä¸€åˆ‡æ›¸ã‹ãšï¼Œå‹ã‚·ã‚¹ãƒ†ãƒ ï¼ˆä¸‹ç·šã®éƒ¨åˆ†ï¼‰ã ã‘ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã—ã‚ˆã†</strong> ã¨æ€ã„ã¾ã™ï¼ <em>ã€Œä½•è¨€ã£ã¦ã‚“ã ã‚³ã‚¤ãƒ„ã€</em> ã¨æ„Ÿã˜ãŸã‚ãªãŸã¯æ­£å¸¸ã§ã™ï¼æ„Ÿã˜ãªã‹ã£ãŸã‚ãªãŸã¯TSã®å¤‰æ…‹ã§ã™ï¼</p>\n<h3>TSã®å‹ã¯ãƒãƒ¥ãƒ¼ãƒªãƒ³ã‚°å®Œå…¨</h3>\n<p>ã‚‚ã†æ•°å„„å›è¨€ã‚ã‚Œã¦ã„ã‚‹ã“ã¨ã§ã™ãŒï¼Œ<a href=\"https://github.com/microsoft/TypeScript/issues/14833\">TSã®å‹ã‚·ã‚¹ãƒ†ãƒ ã¯ãƒãƒ¥ãƒ¼ãƒªãƒ³ã‚°å®Œå…¨ã§ã™</a>ï¼ã“ã‚Œã¯ç°¡å˜ã«è¨€ã„æ›ãˆã‚‹ã¨ï¼Œæˆ‘ã€…ã¯TSã®å‹ã ã‘ã§ä½•ã§ã‚‚ä½œã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ï¼ã¤ã¾ã‚Šï¼Œå‹ã ã‘ã§<a href=\"https://quramy.medium.com/%E3%83%8D%E3%82%BF-typescript-%E5%9E%8B%E3%83%91%E3%82%BA%E3%83%AB%E3%81%A7%E4%BD%9C%E3%82%8Bmini-interpreter-f21854cf3189\">ãƒŸãƒ‹é›»å“</a>ã‚‚ä½œã‚Œã‚‹ã—ï¼Œ<a href=\"https://github.com/jamiebuilds/json-parser-in-typescript-very-bad-idea-please-dont-use\">JSONãƒ‘ãƒ¼ã‚µãƒ¼</a>ã‚‚ä½œã‚Œã‚‹ã—ï¼Œ<a href=\"https://susisu.hatenablog.com/entry/2020/03/10/125000\">Brainfuckã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿</a>ã‚‚ä½œã‚Œã‚‹ï¼ãã—ã¦ç©¶æ¥µçš„ã«ã¯ï¼ŒTypeScriptã‚‚TSã®å‹ã ã‘ã§ä½œã‚Œã‚‹ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ï¼ˆæœ¬æœ«è»¢å€’ï¼‰</p>\n<p>ç§ã‚‚ä½•ã‹ä½œã£ã¦ã¿ãŸã„ï¼Œã¨ã¯ã„ãˆå‹åˆå¿ƒè€…ãªã®ã§æ‰‹é ƒãªèª²é¡Œã¯ç„¡ã„ã‹ã¨è€ƒãˆãŸçµæœï¼Œã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ãµã‚‹ã„ã§ç´ æ•°ã‚’æ±‚ã‚ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸï¼</p>\n<p>ã“ã®ã‚ˆã†ãªå‹ãƒ‘ã‚ºãƒ«ç³»ã®è¨˜äº‹ã¯æ—¢ã«2589ç•ªç…ã˜ã ã¨æ€ã†ã®ã§ï¼Œæœ¬è¨˜äº‹ã§ã¯ã‚ªãƒªã‚¸ãƒŠãƒ«ãªéƒ¨åˆ†ã ã‘ã‚’è©³ã—ãæ›¸ãã‚ˆã†ã«åŠªã‚ã¾ã™ï¼</p>\n<h2>Step 1ï¼šå‹ã®ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’æ•´ãˆã‚‹</h2>\n<p>ç§ã®ã‚ˆã†ãªåˆå¿ƒè€…ã«ã“ãï¼Œãƒ†ã‚¹ãƒˆã¯é‡è¦ã ã¨æ€ã£ã¦ã„ã¾ã™ï¼TSã®å‹ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã«ã¯<a href=\"https://qiita.com/kgtkr/items/2a8290d1b1314063a524\">@kgtkrã•ã‚“ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³å‹</a>ã‚„<a href=\"https://github.com/SamVerschueren/tsd\">SamVerschueren/tsd</a>ãªã©ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ãŒï¼Œä»Šå›ã¯<a href=\"https://github.com/dsherret/conditional-type-checks\">dsherret/conditional-type-checks</a>ã‚’ä½¿ã„ã¾ã—ãŸï¼å¥½ããªã®ã‚’é¸ã¹ã°ã„ã„ã¨æ€ã„ã¾ã™ï¼</p>\n<p>ã“ã‚Œã«ã‚ˆã‚Šï¼Œæ¬¡ã®ã‚ˆã†ã«ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ã¾ã™ï¼</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token generic-function\"><span class=\"token function\">assert</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>IsExact<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> hoge<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"hoge\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token operator\">>></span></span></span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>â†’<code class=\"language-text\">{ hoge: string }[\"hoge\"]</code>å‹ã¯<code class=\"language-text\">string</code>å‹ã«è©•ä¾¡ã•ã‚Œã‚‹ã¹ãï¼</p>\n<h2>Step 2ï¼šè‡ªç„¶æ•°ã‚’ä½œã‚‹</h2>\n<p>æœ€çµ‚çš„ã«ã¯ç´ æ•°ã‚’æ±‚ã‚ãŸã„ã®ã§ã™ãŒï¼Œå‹ã®ä¸–ç•Œã«ã¯è‡ªç„¶æ•°ã™ã‚‰ã‚ã‚Šã¾ã›ã‚“ï¼</p>\n<p><em>ã€Œã„ã‚„ã„ã‚„ï¼Œ<code class=\"language-text\">1</code>å‹ã¨ã‹<code class=\"language-text\">2</code>å‹ã¨ã‹ã‚ã‚‹ã˜ã‚ƒã‚“ã€</em></p>\n<p>ã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒï¼Œãã‚Œã¯å˜ã«ãƒªãƒ†ãƒ©ãƒ«å‹ãŒã‚ã‚‹ã ã‘ã§ï¼Œå‹åŒå£«ã®é–¢ä¿‚æ€§ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼ã“ã®ã¾ã¾ã§ã¯ã€Œ1ã®æ¬¡ã®æ•°ã€ã™ã‚‰ã‚ã‹ã‚‰ãªã„ãŸã‚ï¼Œ<code class=\"language-text\">1 + 1</code>ã™ã‚‰è¨ˆç®—ã§ããªã„ã®ã§ã™ï¼</p>\n<p>ã§ã¯ä»–ã®äººã¯ã©ã†ã—ã¦ã„ã‚‹ã®ã‹ã¨ã„ã†ã¨ï¼Œ<a href=\"https://quramy.medium.com/%E3%83%8D%E3%82%BF-typescript-%E5%9E%8B%E3%83%91%E3%82%BA%E3%83%AB%E3%81%A7%E4%BD%9C%E3%82%8Bmini-interpreter-f21854cf3189\">ã“ã¡ã‚‰ã®è¨˜äº‹</a>ã§ã¯<a href=\"https://ja.wikipedia.org/wiki/%E3%83%9A%E3%82%A2%E3%83%8E%E3%81%AE%E5%85%AC%E7%90%86\">ãƒšã‚¢ãƒã®å…¬ç†</a>ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸï¼ãªã‚‹ã»ã©ï¼Œè‡ªç„¶æ•°ã¨ã„ãˆã°ãƒšã‚¢ãƒã•ã‚“ã§ã™ã­ï¼å¤§å­¦ã®è¬›ç¾©ã§ã‚„ã£ãŸã‚ˆã†ãªï¼Œã‚„ã£ã¦ãªã„ã‚ˆã†ãªâ€¦</p>\n<p>Wikipediaå›ã«èã„ã¦ã¿ã¾ã—ãŸï¼ãƒšã‚¢ãƒã®å…¬ç†ã¨ã¯ï¼Œç°¡å˜ã«è¨€ãˆã°<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>f</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(X, x, f)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mclose\">)</span></span></span></span></span>ã«ã‚ˆã£ã¦è‡ªç„¶æ•°ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®æ¡ä»¶ã§ã™ï¼ã“ã“ã§ï¼Œ<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span></span>ã¯æ•°ã®é›†åˆï¼Œ<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span>ã¯ã„ã‹ãªã‚‹æ•°ã®ã€Œå¾Œè€…ã€ã§ã‚‚ãªã„ã‚‚ã®ï¼ˆã¤ã¾ã‚Šä¸€ç•ªã¯ã˜ã‚ã®æ•°ï¼‰ï¼Œãã—ã¦<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>:</mo><mi>X</mi><mo>â†’</mo><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">f: X \\rightarrow X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â†’</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span></span>ã¯ã‚ã‚‹æ•°ã®ã€Œå¾Œè€…ã€ã‚’ä¸€æ„ã«æ±ºã‚ã‚‹é–¢æ•°ï¼ˆã¤ã¾ã‚Š<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">+1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">+</span><span class=\"mord\">1</span></span></span></span></span>ã®æ„å‘³ï¼‰ã§ã™ï¼å…¬ç†ã®å†…å®¹ã¯å‰²æ„›ã—ã¾ã™ãŒï¼Œã¨ã‚‚ã‹ã<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>f</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(X, x, f)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mclose\">)</span></span></span></span></span>ã‚’ã†ã¾ãå®šç¾©ã™ã‚‹ã“ã¨ã§ä»¥ä¸‹ã®ã‚ˆã†ãªè‡ªç„¶æ•°ã®æ§‹é€ ãŒå¾—ã‚‰ã‚Œã‚‹ã¨ã„ã„ã¾ã™ï¼</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>x</mi><mo>â†¦</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>â†¦</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>â†¦</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>â†¦</mo><mo>â‹¯</mo></mrow><annotation encoding=\"application/x-tex\">x \\mapsto f(x) \\mapsto f(f(x)) \\mapsto f(f(f(x))) \\mapsto \\cdots</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.522em;vertical-align:-0.011em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â†¦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â†¦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">))</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â†¦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)))</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â†¦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.313em;\"></span><span class=\"minner\">â‹¯</span></span></span></span></span></div>\n<p>ãªã‚‹ã»ã©ã­ï¼ã¾ã <strong>è«–ã‚ˆã‚ŠRUN</strong> ï¼é›£ã—ã„è©±ã¯ç½®ã„ã¨ã„ã¦ï¼Œã¨ã‚Šã‚ãˆãš<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>N</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>l</mi><mo separator=\"true\">,</mo><mi>Z</mi><mi>e</mi><mi>r</mi><mi>o</mi><mo separator=\"true\">,</mo><mi>S</mi><mi>u</mi><mi>c</mi><mi>c</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(Natural, Zero, Succ)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mord mathnormal\">ero</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">cc</span><span class=\"mclose\">)</span></span></span></span></span>ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¦ã¿ã¾ã™ï¼</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Natural</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Zero</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Succ<span class=\"token operator\">&lt;</span><span class=\"token constant\">N</span> <span class=\"token keyword\">extends</span> Natural<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token constant\">N</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ã¯ã„ï¼è‡ªç„¶æ•°ã§ãã¾ã—ãŸï¼ã‚ãƒ¼ã„ï¼ğŸ‰</p>\n<p><code class=\"language-text\">Natural</code>ã¯è‡ªç„¶æ•°ã®é›†åˆã§ï¼ŒãŠæ‰‹è£½ã®è‡ªç„¶æ•°å‹ã§ã™ï¼<strong>è‡ªç„¶æ•°ã¯0ã®é…åˆ—å‹ã¨ã—ï¼Œãã®è¦ç´ æ•°ã«ã‚ˆã£ã¦æ•°ã‚’è¡¨ã™</strong> ã“ã¨ã«ã—ã¾ã—ãŸï¼<code class=\"language-text\">[0]</code>ã¯1ï¼Œ<code class=\"language-text\">[0, 0]</code>ã¯2ï¼Œ<code class=\"language-text\">[]</code>ã¯0ã¨ã„ã†å…·åˆã§ã™ï¼</p>\n<p>ã“ã®æ‰‹ã®å‹ãƒ‘ã‚ºãƒ«ã«ãŠã‘ã‚‹è‡ªç„¶æ•°ã®å®šç¾©æ–¹æ³•ã¯æ§˜ã€…ã‚ã‚‹ã®ã§ã™ãŒï¼Œä»Šå›ã¯æ‰±ã„ã‚„ã™ã•ã®é–¢ä¿‚ã§é…åˆ—å‹ã‚’ç”¨ã„ã¾ã—ãŸï¼ï¼ˆä¾‹ãˆã°ï¼Œ<code class=\"language-text\">Natural</code>å‹ã‹ã‚‰<code class=\"language-text\">number</code>å‹ã¸ã®å¤‰æ›ãŒï¼Œ<code class=\"language-text\">['length']</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ç°¡å˜ã«å®Ÿç¾ã§ãã‚‹â€¦ãªã©ï¼ï¼‰ã¾ãŸï¼Œé…åˆ—ã®ä¸­èº«ã®å‹ã¯ç‰¹ã«<code class=\"language-text\">0</code>ã§ãªãã¦ã‚‚è‰¯ã‹ã£ãŸã®ã§ã™ãŒï¼Œ <em>æ‰“ã¡ã‚„ã™ã„</em> ã¨ã„ã†ç†ç”±ã‹ã‚‰<code class=\"language-text\">0</code>ã‚’æ¡ç”¨ã—ã¾ã—ãŸï¼ãƒœã‚¿ãƒ³ã‚’ä¸€å€‹æŠ¼ã™ã ã‘ã§æ‰“ã¦ã¾ã™ã‹ã‚‰ã­ï¼ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§<code class=\"language-text\">Natural</code>å‹ã‚’ãŸãã•ã‚“æ›¸ã„ãŸã®ã§ï¼Œã“ã®ç‚¹ã¯çµæ§‹é‡è¦ã§ã—ãŸï¼</p>\n<p><code class=\"language-text\">Zero</code>ã¯ã‚¼ãƒ­ã§ã™ï¼ã‚¼ãƒ­ã‚’è‡ªç„¶æ•°ã«å«ã‚ãŸã»ã†ãŒå¾Œã€…ä¾¿åˆ©ãªã®ã§ã‚¼ãƒ­ã¯è‡ªç„¶æ•°ã§ã™ï¼æ•°å­¦ã‚ã‚‹ã‚ã‚‹ï¼</p>\n<p><code class=\"language-text\">Succ&lt;N></code>ï¼ˆã‚µãƒƒã‚¯ï¼‰ã¯Nã®ã€Œå¾Œè€…ï¼ˆsuccessorï¼‰ã€ã«è©•ä¾¡ã•ã‚Œã‚‹å‹ã§ã™ï¼ç‰¹ã«é›£ã—ããªã„ã®ã§ã‚µãƒƒã‚¯ãƒªã¨å®Ÿè£…ã§ãã¾ã—ãŸï¼ˆæ¿€ã‚¦ãƒã‚®ãƒ£ã‚°ï¼‰</p>\n<h2>Step 3ï¼šè‡ªç„¶æ•°ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£</h2>\n<p><code class=\"language-text\">Natural</code>ï¼Œ<code class=\"language-text\">Zero</code>ï¼Œ<code class=\"language-text\">Succ</code>ã ã‘ã§ã¯ã‚ã¾ã‚Šã«ä¸ä¾¿ãªã®ã§ï¼Œè‡ªç„¶æ•°ã«é–¢ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’è‰²ã€…å®šç¾©ã—ã¾ã™ï¼</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Add<span class=\"token operator\">&lt;</span><span class=\"token constant\">N1</span> <span class=\"token keyword\">extends</span> Natural<span class=\"token punctuation\">,</span> <span class=\"token constant\">N2</span> <span class=\"token keyword\">extends</span> Natural<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token constant\">N1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token constant\">N2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">NaturalToNumber<span class=\"token operator\">&lt;</span><span class=\"token constant\">N</span> <span class=\"token keyword\">extends</span> Natural<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">[</span><span class=\"token string\">'length'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">NumberToNatural<span class=\"token operator\">&lt;</span><span class=\"token constant\">N</span> <span class=\"token keyword\">extends</span> <span class=\"token builtin\">number</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token operator\">...</span></code></pre></div>\n<p><code class=\"language-text\">Add</code>ã¯è¶³ã—ç®—ã‚’è¨ˆç®—ã™ã‚‹å‹ã§ã™ï¼æ•°å­¦çš„ãªå®šç¾©ã«ã—ãŸãŒãˆã°<code class=\"language-text\">N1</code>ã«<code class=\"language-text\">Succ</code>ã‚’<code class=\"language-text\">N2</code>å›é©ç”¨ã™ã‚‹ã®ãŒç‹é“ã§ã™ï¼ã—ã‹ã—ã“ã“ã¯<a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-0-rc/#variadic-tuple-types\">Variadic Tuple Types</a>ã§ãƒ©ã‚¯ã‚’ã—ã¾ã—ãŸï¼</p>\n<p><code class=\"language-text\">NaturalToNumber</code>ã¯ï¼Œ<code class=\"language-text\">Natural</code>ã‚’<code class=\"language-text\">number</code>ã«å¤‰æ›ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã§ã™ï¼å‰è¿°ã—ãŸã¨ãŠã‚Š<code class=\"language-text\">['length']</code>ã§ã‚µãƒƒã‚¯ãƒªã¨æ›¸ã‘ã¾ã—ãŸï¼</p>\n<p>ãã—ã¦å•é¡Œã®<code class=\"language-text\">NumberToNatural&lt;N extends number></code>ã«ã¤ã„ã¦ã§ã™ï¼ã“ã‚Œã¯ï¼Œ<code class=\"language-text\">number</code>ã‚’<code class=\"language-text\">Natural</code>ã«å¤‰æ›ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãªã®ã§ã™ãŒï¼Œã“ã“ã§ã¯ï¼Œä¸ãˆã‚‰ã‚ŒãŸ<code class=\"language-text\">N</code>ã¨åŒã˜ã«ãªã‚‹ã¾ã§<code class=\"language-text\">Zero</code>ã«<code class=\"language-text\">Succ</code>ã‚’é©ç”¨ã—ã¦ã„ãã¨ã„ã†æ„šç›´ãªæ–¹æ³•ã—ã‹ã¨ã‚Œã¾ã›ã‚“ï¼ã¤ã¾ã‚Šï¼Œ<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mo>â‹¯</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>â‹¯</mo><mtext>â€‰</mtext><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f( \\cdots f(x) \\cdots )</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"minner\">â‹¯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">â‹¯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mclose\">)</span></span></span></span></span>ã‚’<code class=\"language-text\">N</code>ã¨ç­‰ã—ããªã‚‹ã¾ã§è¡Œã†ã¨ã„ã†ã“ã¨ã§ï¼Œå‹ã®å†å¸°ã‚’ãŸãã•ã‚“ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ã—ã‹ã—TSã«ã¯ <strong>TS2589</strong> ã¨ã„ã†å†å¸°å›æ•°ã®åˆ¶é™ãŒã‚ã‚Šï¼ŒãƒŠã‚¤ãƒ¼ãƒ–ãªå®Ÿè£…ã ã¨<code class=\"language-text\">NumberToNatural&lt;50></code>ãã‚‰ã„ã§ã‚®ãƒ–ã‚¢ãƒƒãƒ—ã•ã‚Œã¾ã™ï¼TSãã‚“ã•ãâ€¦</p>\n<h3>å‹ãƒãƒƒã‚¯1ï¼šå†å¸°å‘¼ã³å‡ºã—ã«ã‚ˆã‚‹TS2589ã®å›é¿</h3>\n<p>ã“ã®åˆ¶é™ã‚’å›é¿ã™ã‚‹ã«ã¯ï¼Œ<a href=\"https://qiita.com/kgtkr/items/eff20225e4bf9b159110\">TSã®ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å¤‰ã—ãŸã‚Š</a>ï¼Œ<a href=\"https://qiita.com/kazatsuyu/items/44c1b012d66aae1dc2c0\">å†å¸°ã‚’å†å¸°ã—ã¦å†å¸°ã—ãŸã‚Šï¼ˆï¼Ÿï¼‰</a>ã¨ã„ã£ãŸæ–¹æ³•ãŒã‚ã‚Šã¾ã™ï¼ä»Šå›ã¯ä¸€ç•ªã‚·ãƒ³ãƒ—ãƒ«ãªï¼Œ<a href=\"https://susisu.hatenablog.com/entry/2020/09/12/214343\">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å†…ã§å†å¸°ã™ã‚‹</a>æ–¹æ³•ã‚’ã¨ã‚Šã¾ã—ãŸï¼@susisuã•ã‚“ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼</p>\n<p>ã“ã‚Œã¯ã²ã¨ã“ã¨ã§è¨€ãˆã°ï¼Œã¨ã£ã¦ã‚‚ <del>é—‡</del> ãƒã‚¹ãƒˆãŒæ·±ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«è¨ˆç®—çµæœã‚’ãã‚‹ã‚“ã§å¾Œã‹ã‚‰å–ã‚Šå‡ºã™ã¨ã„ã†ï¼Œä¸€è¦‹ã—ã¦ä½•ã®æ„å‘³ãŒã‚ã‚‹ã®ã‹ã‚ã‹ã‚‰ãªã„æ“ä½œã§TS2589ã‚’å›é¿ã™ã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ï¼å›é¿ã§ãã‚‹ç†ç”±ã¯å‰²æ„›ã—ã¾ã™ãŒï¼Œèˆˆå‘³ãŒã‚ã‚‹æ–¹ã¯å…ˆç¨‹ã®ãƒªãƒ³ã‚¯å…ˆã‚’èª­ã‚“ã§ãã ã•ã„ï¼</p>\n<p>ã¨ã„ã†ã‚ã‘ã§TS2589å›é¿ã®ãŸã‚ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚‚ä½œã‚Šã¾ã™ï¼</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">ResultContainer<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> _<span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">ExtractResult<span class=\"token operator\">&lt;</span><span class=\"token constant\">CONTAINER</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token operator\">...</span></code></pre></div>\n<p>ãã‚‹ã¾ã‚ŒãŸè¨ˆç®—çµæœã‚’ã‚³ãƒ³ãƒ†ãƒŠã¨å‘¼ã¶ã“ã¨ã«ã—ã¾ã—ãŸï¼ã‚³ãƒ³ãƒ†ãƒŠã‚’è¡¨ã™<code class=\"language-text\">ResultContainer</code>å‹ã¨ï¼Œã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰è¨ˆç®—çµæœã‚’å–ã‚Šå‡ºã™<code class=\"language-text\">ExtractResult&lt;CONTAINER></code>å‹ã‚’<a href=\"https://github.com/sititou70/ts-prime-number-type/blob/master/src/result_container.ts\">å®Ÿè£…ã—ã¾ã—ãŸ</a>ï¼ã“ã‚Œã§å†å¸°ã—æ”¾é¡Œã§ã™ï¼</p>\n<h2>Step 4ï¼šã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ãµã‚‹ã„ã‚’å®Ÿè£…ã™ã‚‹</h2>\n<p>ã“ã®æ™‚ç‚¹ã§æˆ‘ã€…ãŒã§ãã‚‹æ“ä½œã¯ï¼Œ</p>\n<ul>\n<li>æ•°ã®ç­‰ä¾¡ / ä¸ç­‰ä¾¡æ¯”è¼ƒï¼ˆ<code class=\"language-text\">extends</code>ã§æœ€åˆã‹ã‚‰ã§ãã‚‹ï¼‰</li>\n<li>è‡ªç„¶æ•°ï¼ˆ<code class=\"language-text\">Natural</code>ï¼‰ã®è¡¨ç¾ã¨è¶³ã—ç®—</li>\n<li>é…åˆ—ã¸ã®å€¤ã®è¿½åŠ ï¼ˆVariadic Tuple Typesã§æœ€åˆã‹ã‚‰ã§ãã‚‹ï¼‰</li>\n<li><code class=\"language-text\">Natural</code>ã¨<code class=\"language-text\">number</code>ã®ç›¸äº’å¤‰æ›</li>\n<li>ãƒ«ãƒ¼ãƒ—ï¼ˆç„¡åˆ¶é™ã®å†å¸°å‘¼ã³å‡ºã—ï¼‰</li>\n</ul>\n<p>ãã‚‰ã„ãªã‚‚ã®ã§ã™ï¼æ¸›ç®—ï¼Œä¹—ç®—ï¼Œé™¤ç®—ã‚‚ã§ãã¾ã›ã‚“ã—ï¼Œå‰°ä½™ã‚‚æ±‚ã‚ã‚‰ã‚Œã¾ã›ã‚“ã—ï¼Œæ•°ã®å¤§å°æ¯”è¼ƒã‚‚è¡Œãˆã¾ã›ã‚“ï¼å®šç¾©ã—ã¦ã„ã¾ã›ã‚“ã‹ã‚‰ï¼</p>\n<p><em>ã€Œã“ã‚“ãªã‚“ã§ã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ãµã‚‹ã„ãŒå®Ÿè£…ã§ãã‚‹ã®ã‹ï¼Ÿã€</em></p>\n<p>ã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒï¼Œçµè«–ã‹ã‚‰è¨€ã†ã¨<a href=\"https://github.com/sititou70/ts-prime-number-type/blob/master/src/eratosthenes.ts\">ã§ãã¾ã—ãŸ</a>ï¼ãŠãŠã¾ã‹ã«ã ã‘èª¬æ˜ã™ã‚‹ã¨ï¼Œè‚ã¨ãªã‚‹ã®ã¯<code class=\"language-text\">StepFill</code>ã¨ã„ã†å‹ã§ã™ï¼</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">StepFill<span class=\"token operator\">&lt;</span>\n  <span class=\"token constant\">ARRAY</span> <span class=\"token keyword\">extends</span> <span class=\"token builtin\">unknown</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">START</span> <span class=\"token keyword\">extends</span> Natural<span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">STEP</span> <span class=\"token keyword\">extends</span> Natural<span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">VALUE</span> <span class=\"token keyword\">extends</span> <span class=\"token builtin\">unknown</span>\n<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token operator\">...</span></code></pre></div>\n<p>ã“ã®å‹ã¯ï¼Œé…åˆ—<code class=\"language-text\">ARRAY</code>ã«ãŠã„ã¦ï¼Œ<code class=\"language-text\">START</code>ç•ªç›®ã®è¦ç´ ã‹ã‚‰<code class=\"language-text\">STEP</code>ã”ã¨ã«<code class=\"language-text\">VALUE</code>ã‚’ä»£å…¥ã™ã‚‹ã‚‚ã®ã§ã™ï¼ã“ã‚Œã¯ï¼Œã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ãµã‚‹ã„ã«ãŠã„ã¦åˆæˆæ•°ã‚’ãµã‚‹ã„è½ã¨ã™æ“ä½œã«ç›¸å½“ã—ï¼Œã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å…¨ä½“ã§æœ€ã‚‚é›£ã—ã„éƒ¨åˆ†ã§ã™ï¼ã¤ã¾ã‚Šã“ã‚ŒãŒå®Ÿè£…ã§ãã‚Œã°ã»ã¨ã‚“ã©å„ªå‹ãªã‚ã‘ã§ã™ãŒï¼Œé…åˆ—ã‚’ç·šå½¢ã«èµ°æŸ»ã—ãªãŒã‚‰æ–°ã—ã„é…åˆ—ã¸é©åˆ‡ãªå€¤ã‚’è¿½åŠ ã—ã¦ã„ãã ã‘ã§<a href=\"https://github.com/sititou70/ts-prime-number-type/blob/28f860de19a483d1f4b1183e25e5c23dfa23cd79/src/eratosthenes.ts#L37\">å®Ÿè£…ã§ãã‚‹</a>ã®ã§å„ªå‹ã—ã¾ã—ãŸ ğŸ†</p>\n<h2>å®Œæˆï¼<code class=\"language-text\">PrimeNumbers</code>å‹ï¼</h2>\n<p>æ„šç›´ã«ã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ãµã‚‹ã„ã‚’å®Ÿè£…ã—ãŸçµæœï¼Œ<code class=\"language-text\">PrimeNumbers&lt;MAX extends number></code>ãŒã§ãã¾ã—ãŸï¼ã“ã‚Œã¯ï¼Œ<code class=\"language-text\">MAX</code>ã¾ã§ã®ç´ æ•°ã®ãƒªã‚¹ãƒˆã«è©•ä¾¡ã•ã‚Œã‚‹å‹ã§ã™ï¼</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> primes<span class=\"token operator\">:</span> PrimeNumbers<span class=\"token operator\">&lt;</span><span class=\"token number\">300</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ã¨ã—ã¦<code class=\"language-text\">tsc --noEmit</code>ã™ã‚‹ã¨â€¦</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">src/index.ts:3:7 - error TS2322: Type 'string' is not assignable to type '[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293]'.\n\n12 const primes: PrimeNumbers = 'string';\n         ~~~~~~\n\n\nFound 1 error.</code></pre></div>\n<p>ã‚„ã£ãŸï¼<code class=\"language-text\">PrimeNumbers&lt;300></code>ãŒ<code class=\"language-text\">[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293]</code>å‹ã«è©•ä¾¡ã•ã‚Œã¦ã„ã¾ã™ï¼</p>\n<h2>ç´°ã‹ã„ã“ã¨</h2>\n<h3>Errorå‹</h3>\n<p>å‹ã‚’æ›¸ã„ã¦ã„ã‚‹ã¨ï¼Œã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ãŸã„å ´é¢ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ï¼ãã®ã‚ˆã†ãªå ´åˆã«<code class=\"language-text\">never</code>ã¨ã—ã¦ã‚‚è‰¯ã„ã®ã§ã™ãŒï¼Œæ¬¡ã®ã‚ˆã†ãª<code class=\"language-text\">Error</code>å‹ã‚’å®šç¾©ã—ã¾ã—ãŸï¼</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Error<span class=\"token operator\">&lt;</span><span class=\"token constant\">REASON</span> <span class=\"token keyword\">extends</span> <span class=\"token builtin\">string</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">\"error\"</span><span class=\"token punctuation\">;</span> reason<span class=\"token operator\">:</span> <span class=\"token constant\">REASON</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ã“ã‚Œã«ã‚ˆã‚Šï¼Œã‚¨ãƒ©ãƒ¼ã®ç†ç”±ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã§ï¼Œãƒ‡ãƒãƒƒã‚°ãŒæ—ã‚Šã¾ã—ãŸï¼</p>\n<h3>å‹ãƒãƒƒã‚¯2ï¼šå‹ã®ã‚­ãƒ£ã‚¹ãƒˆ</h3>\n<p>ã‚ã¾ã‚Šè¤‡é›‘ãªå‹ã‚’æ›¸ãã¨TSã®æ¨è«–ãŒã†ã¾ãåŠ¹ã‹ãšï¼Œè‡ªåˆ†ã¯æ­£ã—ã„ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã‚‹ã®ã«å‹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã—ã¾ã†å ´åˆãŒã‚ã‚Šã¾ã™ï¼ãã‚“ãªã¨ãã¯<a href=\"https://kgtkr.net/blog/2019/04/15/typescript-typelevelprogramming-error-suppression\">@kgtkrã•ã‚“ã®Castå‹</a>ãŒä½¿ãˆã¾ã™ï¼</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Cast<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">P</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\"><span class=\"token constant\">P</span></span> <span class=\"token operator\">?</span> <span class=\"token constant\">T</span> <span class=\"token operator\">:</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ã“ã‚Œã«ã‚ˆã‚Šï¼ŒTSã«<code class=\"language-text\">T</code>å‹ã‚’<code class=\"language-text\">P</code>å‹ã¨ã—ã¦æ¨è«–ã•ã›ã‚‰ã‚Œã¾ã™ï¼<code class=\"language-text\">T extends P</code>ã™ã‚‹ã“ã¨ã§TSãã‚“ã‚’ã‚ã‹ã‚‰ã›ã‚‹ã¨ã„ã†æ„Ÿã˜ã§ã—ã‚‡ã†ã‹ï¼è©³ã—ãã¯å…ƒè¨˜äº‹ã‚’ã©ã†ãï¼</p>\n<h3>å‹ãƒãƒƒã‚¯3ï¼šæœªè§£æ±ºãªå‹ã«ã‚ˆã‚‹TS2589ã®å›é¿</h3>\n<p>è¤‡é›‘ãªå‹ã‚’çµ„ã¿åˆã‚ã›ï¼Œã‹ã¤æœªè§£æ±ºãªå‹å¼•æ•°ã‚’æ‰±ã£ã¦ã„ã‚‹ã¨TS2589ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã‚ˆã†ã§ã™ï¼ç†ç”±ã¯è¬ã§ã™ ğŸ˜Ÿ</p>\n<p>ã“ã®è§£æ±ºã«ã‚‚<a href=\"https://kgtkr.net/blog/2019/04/15/typescript-typelevelprogramming-error-suppression\">å…ˆç¨‹ã®è¨˜äº‹</a>ãŒå½¹ç«‹ã¡ã¾ã—ãŸï¼@kgtkrã•ã‚“ï¼Œã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼</p>\n<h2>ã¾ã¨ã‚</h2>\n<p>å‹ãƒ‘ã‚ºãƒ«åˆå¿ƒè€…ãŒå‹ã ã‘ã§ç´ æ•°ã‚’æ±‚ã‚ã¦ã¿ã¾ã—ãŸï¼ã„ã‚ã„ã‚ãƒãƒ¼ãƒ‰ãƒ­ãƒƒã‚¯ãªå‹ã‚’æ›¸ã„ãŸã›ã„ã§ï¼ŒTSã®è¨€èªã‚µãƒ¼ãƒãƒ¼ãŒãƒ¡ãƒ¢ãƒªã‚’é£Ÿã„ã¤ã¶ã—ã¦çˆ†ç™ºã™ã‚‹ã¨ã„ã†ã®ã‚‚ä½•åº¦ã‹è¦‹ã¾ã—ãŸï¼</p>\n<p>ä»Šå›ã®é–‹ç™ºã‚’é€šã—ã¦ï¼ŒTSã®å¤‰ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ã„ãã¤ã‹ç¿’å¾—ã—ï¼Œå‹ãƒ‘ã‚ºãƒ«ã®æ¥½ã—ã•ã‚‚åˆ†ã‹ã£ã¦ãã¾ã—ãŸï¼ã¾ãŸï¼Œå‹ã®ç´ æŒ¯ã‚Šã«ã‚‚ãªã‚Šã¾ã—ãŸã®ã§ï¼Œä½•ã‹ã®æ¥­å‹™ã«æ´»ã‹ã›ã‚‹ã¨è‰¯ã„ãªã¨æ€ã„ã¾ã™ï¼</p>","frontmatter":{"title":"TypeScriptã®å‹ã§ç´ æ•°ã‚’æ±‚ã‚ãŸã„","date":"2021/01/19"},"fields":{"slug":"/TypeScriptã®å‹ã§ç´ æ•°ã‚’æ±‚ã‚ãŸã„/"},"id":"3a3c4125-9986-53bb-8b96-ae29936c96ab"},"firstImage":{"imageFile":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#3878c8","images":{"fallback":{"src":"/static/bd6cef6475b68f2223800108dc5ec50c/acb7c/ts-logo.png","srcSet":"/static/bd6cef6475b68f2223800108dc5ec50c/1c9ce/ts-logo.png 64w,\n/static/bd6cef6475b68f2223800108dc5ec50c/bf8e1/ts-logo.png 128w,\n/static/bd6cef6475b68f2223800108dc5ec50c/acb7c/ts-logo.png 256w","sizes":"(min-width: 256px) 256px, 100vw"},"sources":[{"srcSet":"/static/bd6cef6475b68f2223800108dc5ec50c/8257c/ts-logo.webp 64w,\n/static/bd6cef6475b68f2223800108dc5ec50c/6766a/ts-logo.webp 128w,\n/static/bd6cef6475b68f2223800108dc5ec50c/22bfc/ts-logo.webp 256w","type":"image/webp","sizes":"(min-width: 256px) 256px, 100vw"}]},"width":256,"height":256}}}},"relatedMarkdownRemarks":{"posts":[{"id":"29b79017-f96d-5b04-8d01-5b8ee761ebed","frontmatter":{"draft":null}},{"id":"82d43655-ea2a-52cd-97a3-16b7b28ad150","frontmatter":{"draft":null}},{"id":"f49ce388-e81c-5425-af59-9902f125c20f","frontmatter":{"draft":null}},{"id":"73d6ab42-b3e6-5663-a175-b1f3d69c29e1","frontmatter":{"draft":null}},{"id":"27f10a38-0ecb-539f-a717-7e40a41bbd10","frontmatter":{"draft":null}},{"id":"c2db052c-95c6-5094-935b-9eb39f5c762a","frontmatter":{"draft":null}},{"id":"75696ec6-74a3-5046-8a3c-f39b36d92311","frontmatter":{"draft":null}},{"id":"d29b4513-0609-5cfc-af49-817467dbed1f","frontmatter":{"draft":null}},{"id":"c2249b7b-b97e-5cf4-8ea9-8024e96851b7","frontmatter":{"draft":true}},{"id":"8f7b1b24-7738-5b97-bfb6-fd763f11a664","frontmatter":{"draft":true}},{"id":"c6def021-b8da-5dbe-ad3e-811d9286424d","frontmatter":{"draft":true}},{"id":"12222bfa-2e8e-51ee-99d8-8a19902351f5","frontmatter":{"draft":null}},{"id":"871ac696-39ea-5c64-94f3-5dc4b73b5770","frontmatter":{"draft":true}},{"id":"c5e2431a-cf05-5024-b833-e1c69f680d44","frontmatter":{"draft":null}},{"id":"46a22c41-5455-557c-85d4-973a6e2220ee","frontmatter":{"draft":null}},{"id":"fd6eab68-17d3-5395-8b2b-54a6efe43ebb","frontmatter":{"draft":null}},{"id":"be594923-185e-5cca-95b6-5267b3c9fc8c","frontmatter":{"draft":null}},{"id":"0116f663-28d1-507a-b5ab-b189801dd408","frontmatter":{"draft":true}},{"id":"01deffb8-0d62-54c6-9e41-20832cbc3c6e","frontmatter":{"draft":null}},{"id":"067a602f-4581-5707-b896-73190dd8c889","frontmatter":{"draft":null}},{"id":"0c5568c9-6d87-56ed-ab0e-caeb9c1aafa4","frontmatter":{"draft":null}},{"id":"1086a735-7173-58cc-a813-c540a563aedf","frontmatter":{"draft":false}},{"id":"1162dccb-e1bf-576d-a5c6-0993394feb0a","frontmatter":{"draft":true}},{"id":"1509de3c-7308-5e40-a885-f5ebdb089774","frontmatter":{"draft":null}},{"id":"2239c111-61d9-556e-9045-9e3707553db4","frontmatter":{"draft":true}},{"id":"2cfd9e33-b4e1-53e4-884d-d8a6760f3387","frontmatter":{"draft":true}},{"id":"2f30c3f1-0d66-590b-8dba-7836df701d46","frontmatter":{"draft":null}},{"id":"3908aafc-c8d3-5c67-821f-0866592449f2","frontmatter":{"draft":true}},{"id":"3b696b96-130d-50de-a673-dc1367f32387","frontmatter":{"draft":null}},{"id":"48c65a15-67ca-57d0-9edc-ebcb868f7ad2","frontmatter":{"draft":true}},{"id":"49cf25c1-03f6-575e-8c2f-638ccd6198ea","frontmatter":{"draft":null}},{"id":"4ed3b747-2001-54f4-9661-3acab89ce275","frontmatter":{"draft":null}},{"id":"4edc1b46-b395-5783-af6a-818b8fc9c2dc","frontmatter":{"draft":null}},{"id":"50951bb1-eb92-5663-a3d8-8f35f73a1322","frontmatter":{"draft":null}},{"id":"50d3cc2a-de7a-5b9a-a8d8-754415fe4d94","frontmatter":{"draft":null}},{"id":"5888c50d-8414-5e8f-b0dc-28a31b29053d","frontmatter":{"draft":null}},{"id":"63f3c7ad-6c59-52b5-9816-78fd348955ff","frontmatter":{"draft":true}},{"id":"69a4aa90-b728-522c-b34f-abee49825c45","frontmatter":{"draft":true}},{"id":"73ab4455-f04d-5320-bf3a-90b9f7441d13","frontmatter":{"draft":null}},{"id":"75550af2-8134-5467-a07d-abbb5a4f6b7c","frontmatter":{"draft":true}},{"id":"7778d041-a5bf-536a-a36f-c0dbc5e08ac7","frontmatter":{"draft":true}},{"id":"78349b16-6e41-5fef-ae38-bcdc5ff297ef","frontmatter":{"draft":true}},{"id":"7a8fc278-a847-5b68-8b74-a83193ba3f55","frontmatter":{"draft":null}},{"id":"7d6499d9-277c-5f07-b8b1-98ae40c50c42","frontmatter":{"draft":null}},{"id":"7d79eb4b-cd4a-5621-a67a-91d9a24dce05","frontmatter":{"draft":null}},{"id":"8b3e46c2-1a1e-5af0-8900-7972c7285d15","frontmatter":{"draft":null}},{"id":"961ec1e6-3f2b-59d9-a33f-dad76cf67f47","frontmatter":{"draft":null}},{"id":"97f01467-e3a1-58e1-b2a4-db77354cc1a3","frontmatter":{"draft":null}},{"id":"9f02de74-61a0-5daf-a048-1c1022e08fe4","frontmatter":{"draft":null}},{"id":"a091877c-69b8-59f9-8963-1af334fd573c","frontmatter":{"draft":null}},{"id":"a190aac4-0483-5e02-b1d3-261f3b5f313a","frontmatter":{"draft":null}},{"id":"b4251348-b618-5b5b-a2c8-e4c6b2431b83","frontmatter":{"draft":true}},{"id":"bfee69af-7d7f-5d87-9680-d2e9b60f8416","frontmatter":{"draft":null}},{"id":"c7a5adfb-149b-5469-ba35-7421e2101951","frontmatter":{"draft":null}},{"id":"cbdf3192-973c-5d87-9cf1-bb9110e9a169","frontmatter":{"draft":null}},{"id":"d4d1afa4-f2f9-5942-ae36-2826fb938af5","frontmatter":{"draft":null}},{"id":"db26c6b9-37b4-5cc4-b1ec-c61dc667863e","frontmatter":{"draft":null}},{"id":"dd0c41cf-0a03-5b89-b5a2-f64859aeae63","frontmatter":{"draft":null}},{"id":"e322eac2-bd89-5347-b20d-d050d303a6be","frontmatter":{"draft":null}},{"id":"e376b2d4-df91-5b82-af7a-a8d02763e922","frontmatter":{"draft":true}},{"id":"e4fb8478-b1ad-59eb-95e8-8c5e0500d3f4","frontmatter":{"draft":null}},{"id":"e83330dc-2312-5ae6-95fa-53e86909f42b","frontmatter":{"draft":true}},{"id":"eba9aa6a-6e21-5f1b-a0eb-7b6bfb1e04f1","frontmatter":{"draft":null}},{"id":"ebae7878-c4ee-505e-81e2-3d3fc47ea826","frontmatter":{"draft":null}},{"id":"ed7af7f9-75f5-59be-9063-de564576eed7","frontmatter":{"draft":true}},{"id":"f06a6ae0-e961-504c-8dab-a60489c0557a","frontmatter":{"draft":true}},{"id":"f5a25ce1-67a6-51b2-9bf1-f9fbacb41ad1","frontmatter":{"draft":true}}]}},"pageContext":{"id":"3a3c4125-9986-53bb-8b96-ae29936c96ab"}},"staticQueryHashes":["1530353647","1810627999","63159454"]}