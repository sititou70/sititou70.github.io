{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/Advent-of-Code-2021攻略ガイド/",
    "result": {"data":{"site":{"siteMetadata":{"title":"sititou70","siteUrl":"https://sititou70.github.io"}},"markdownRemark":{"excerpt":"Advent of Code 2021 を Rust…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f2f0cc20eaee74bb0701cb400d43698e/c8518/top.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.92307692307692%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'371\\'%20viewBox=\\'0%200%20400%20371\\'%20preserveAspectRatio=\\'none\\'%3e%3cpath%20d=\\'M0%20186v185h401V0H0v186m0%200\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f2f0cc20eaee74bb0701cb400d43698e/92d89/top.webp 325w,\n/static/f2f0cc20eaee74bb0701cb400d43698e/8ea29/top.webp 650w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f2f0cc20eaee74bb0701cb400d43698e/59727/top.png 325w,\n/static/f2f0cc20eaee74bb0701cb400d43698e/c8518/top.png 650w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f2f0cc20eaee74bb0701cb400d43698e/c8518/top.png\"\n            alt=\"Advent of Code 2021\"\n            title=\"Advent of Code 2021\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>Advent of Code 2021 を Rust で完走しました．</p>\n<p>個人的に難しい問題が多く，途中でやめてしまおうかと思う中，他の人のコードに何度も助けられました．そのため，私の解法もここに残しておくことで誰かの役に立てばと思います．</p>\n<p>各問題を解くまでのプロセスと解答コードを示しますので，言うまでもなくネタバレ注意です（言ってる）</p>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/1\" target=\"_blank\" rel=\"noopener\">Day 1: Sonar Sweep</a></h2>\n<details><summary>詳細を見る</summary>\n<p>Advent of Code 2021 は，海に落ちた鍵を探しに行く話です．</p>\n<h3>概要</h3>\n<p>まずはソナーを使用して鍵を検出できないか試します．ソナーの計測値が時系列データとして次のように与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">199\n200\n208\n210\n200\n...</code></pre></div>\n<h3>Part 1</h3>\n<p>1 つ前の値と比べて増加している計測値の数を回答します．愚直にループで実装すれば問題ありません．</p>\n<p>初めての言語で挑戦する場合は，ファイルや標準入力の読み込み方法，数値のパース方法などが求められます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day01-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>計測値のノイズを排除するために，大きさ 3 のスライディングウインドウを設定し，ウインドウ内の合計値が増加する回数を回答します．こちらも愚直に実装すれば問題ありません．</p>\n<p>または，3 つ前の値と比べて増加している計測値をカウントしても同じです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day01-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/2\" target=\"_blank\" rel=\"noopener\">Day 2: Dive!</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>潜水艦の動きが次のように与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">forward 5\ndown 5\nforward 8\nup 3\ndown 8\nforward 2\n...</code></pre></div>\n<h3>Part 1</h3>\n<p>入力値の意味が次のように与えられます．</p>\n<ul>\n<li>forward N: 水平位置が N 増加する</li>\n<li>down N: 深さが N 増加する</li>\n<li>up N: 深さが N 減少する</li>\n</ul>\n<p>入力どおりに潜水艦を動かした場合の最終的な位置における， <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>水平位置</mtext><mo>×</mo><mtext>深さ</mtext></mrow><annotation encoding=\"application/x-tex\">水平位置 \\times 深さ</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord cjk_fallback\">水平位置</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">深さ</span></span></span></span></span> を回答します．</p>\n<p>特に工夫は必要ありません．入力をパースしながら潜水艦の現在位置を更新して行けば良いです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day02-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>実は Part 1 で与えられた入力値の意味が間違っていたと教えられます．本当の意味は次のとおりです．</p>\n<ul>\n<li>down X: Aim を X 増やす</li>\n<li>up X: Aim を X 減らす</li>\n<li>forward X: 次のことを行う\n<ul>\n<li>水平位置を X 増やす</li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>i</mi><mi>m</mi><mo>×</mo><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">Aim \\times X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">im</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span></span> だけ深さを増やす</li>\n</ul>\n</li>\n</ul>\n<p>こちらも特に工夫はいりません．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day02-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/3\" target=\"_blank\" rel=\"noopener\">Day 3: Binary Diagnostic!</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>潜水艦の調子がおかしいです．診断データが 2 進数で次のように与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">00100\n11110\n10110\n...</code></pre></div>\n<h3>Part 1</h3>\n<p>消費電力を 10 進数で求められます．消費電力は <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>ガンマレート</mtext><mo>∗</mo><mtext>イプシロンレート</mtext></mrow><annotation encoding=\"application/x-tex\">ガンマレート * イプシロンレート</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">ガンマレート</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">イプシロンレート</span></span></span></span></span> です．</p>\n<p>ガンマレートは入力値の各ビットの最瀕値をくっつけたものになります．イプシロンレートはその逆で，各ビットの最瀕値でないビットをつなげた値になります．</p>\n<p>各行をパースしながら，各桁の 0 と 1 の度数を集計していき，最後にガンマレートとイプシロンレートを計算すればいいでしょう．</p>\n<p>値のパースや基数変換の方法が求められます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day03-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>生命維持率を回答します．生命維持率は，酸素発生率と二酸化炭素吸収率の積です．</p>\n<p>生命維持の求め方は少し複雑です．すべての入力値のうち，各ビットの最瀕値を持つもの以外を取り除くという操作をします．</p>\n<p>例：</p>\n<ol>\n<li>全ての入力値の 1 ビット目の最瀕値は 1</li>\n<li>1 ビット目が 1 でない値を取り除く</li>\n<li>残りの入力値の 2 ビット目の最瀕地は 0</li>\n<li>2 ビット目が 0 でない値を取り除く…</li>\n</ol>\n<p>基本的にはそのまま実装すれば問題ありません．</p>\n<p>「取り除く」という操作をどのように実現するかは言語によって異なると思います．可変長配列や集合が使えるなら簡単です．使えないなら，各値に「取り除かれたか」というビットを保持しておくなどの方法があるでしょう．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day03-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/4\" target=\"_blank\" rel=\"noopener\">Day 4: Giant Squid</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>ビンゴで遊びたそうなダイオウイカが近づいてきたので，潜水艦になぜか搭載されているビンゴシステムを使って対決します．（未来予知によって確実に勝ちますが）</p>\n<p>数字を開ける順番と，複数のビンゴボードが次のように与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">7,4,9,5,11,17,23,2,0,14,21,24,10,16,13,6,15,25,12,22,18,20,8,19,3,26,1 // 数字を開ける順番\n\n22 13 17 11  0\n 8  2 23  4 24\n21  9 14 16  7\n 6 10  3 18  5\n 1 12 20 15 19\n\n 3 15  0  2 22\n 9 18 13 17  5\n19  8  7 25 23\n20 11 10 24  4\n14 21 16 12  6\n\n14 21 17 24  4\n10 16 15  9 19\n18  8 23 26 20\n22 11 13  6  5\n 2  0 12  3  7</code></pre></div>\n<h3>Part 1</h3>\n<p>順番通りに数字を開けていき，一番最初にビンゴするボードにおける得点を回答します．</p>\n<p>ビンゴしたボードの得点は， <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>ビンゴした列の値の合計</mtext><mo>×</mo><mtext>数字が呼ばれた回数</mtext></mrow><annotation encoding=\"application/x-tex\">ビンゴした列の値の合計 \\times 数字が呼ばれた回数</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord cjk_fallback\">ビンゴした列の値の合計</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">数字が呼ばれた回数</span></span></span></span></span> で計算できます．</p>\n<p>計算量に関する懸念はないのでそのまま実装していけば OK です．ボードのパースやビンゴ判定の実装が少し大変かもしれません．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day04-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>Part 1 とは異なり，一番最後にビンゴするボードの得点を回答します．（ボードの得点計算において，「数字の呼ばれた回数」のウエイトが高いので一番最後のボードを選べば勝てる）</p>\n<p>Part 1 が解けているならほぼ同じコードの流用で解けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day04-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>余談</h3>\n<p>この問題，呼ばれる数字列を自分側があらかじめ知っているのズルくないですか？イカサマでは？（激ウマギャグ）</p>\n<p>あと，yosuke_furukawa さんが「<a href=\"https://www.netflix.com/jp/title/81040344\" target=\"_blank\" rel=\"noopener\">イカゲーム</a>と掛けたのかなこれは」と<a href=\"https://yosuke-furukawa.hatenablog.com/entry/2021/12/27/220312\" target=\"_blank\" rel=\"noopener\">言っていました</a>が， <strong>私は違うと思います．</strong></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/5\" target=\"_blank\" rel=\"noopener\">Day 5: Hydrothermal Venture</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>熱水噴出口の情報から，海水温が高い危険な場所を計算します．</p>\n<p>噴出口の情報は次のように与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">0,9 -> 5,9\n8,0 -> 0,8\n9,4 -> 3,4\n2,2 -> 2,1\n7,0 -> 7,4\n6,4 -> 2,0\n0,9 -> 2,9\n3,4 -> 1,4\n0,0 -> 8,8\n5,5 -> 8,2\n...</code></pre></div>\n<p>各座標が整数の 2 次元平面を考えます．ここで，例えば<code class=\"language-text\">0,9 -> 5,9</code>は，<code class=\"language-text\">(0,9)</code>から<code class=\"language-text\">(5,9)</code>へ熱水が吹き出しており，海水温が高いことを表しています．</p>\n<h3>Part 1</h3>\n<p>噴出口が重なる位置の数を回答します．つまり，入力の線分の交点の数を回答します．また，このパートでは水平または垂直の噴出口のみを考慮すれば良いです．</p>\n<p>2 次元配列を用意して，入力の通りに海水温の高い位置をカウントアップしていけば良いです．おそらく計算量的にも問題ない時間で解けます．</p>\n<p>一方で，累積和，<a href=\"https://imoz.jp/algorithms/imos_method.html\" target=\"_blank\" rel=\"noopener\">いもす法</a>を使用することでより早く計算できるかもしれません．今回の問題では線分を扱っているので，あまりメリットが無い気もしますが，私はせっかくなのでいもしてみました．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day05-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>Part 1 に加えて，斜め方向も考慮せよと言われます．Part 1 のコードを少し拡張するだけで解けるはずです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day05-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[ふつう] <a href=\"https://adventofcode.com/2021/day/6\" target=\"_blank\" rel=\"noopener\">Day 6: Lanternfish</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>ハダカイワシの成長，増加を計算します．</p>\n<p>ハダカイワシは次の規則で成長し，増加します．</p>\n<ul>\n<li>大人の個体は 7 日に 1 ひきの子供を産みます</li>\n<li>子供は 2 日で大人になります</li>\n</ul>\n<p>つまり，各ハダカイワシには子供を生むまでの「内部タイマー」という概念があり，次のように増えます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Initial state: 3,4,3,1,2\nAfter  1 day:  2,3,2,0,1\nAfter  2 days: 1,2,1,6,0,8\nAfter  3 days: 0,1,0,5,6,7,8\nAfter  4 days: 6,0,6,4,5,6,7,8,8\nAfter  5 days: 5,6,5,3,4,5,6,7,7,8\nAfter  6 days: 4,5,4,2,3,4,5,6,6,7\nAfter  7 days: 3,4,3,1,2,3,4,5,5,6\n...</code></pre></div>\n<p>ここで，パズルの入力として初期値が<code class=\"language-text\">3,4,3,1,2</code>のように与えられます．</p>\n<h3>Part 1</h3>\n<p>80 日後のハダカイワシの数を回答します．</p>\n<h4>遅い方法</h4>\n<p>一番ナイーブな解法は，各ハダカイワシの内部タイマーを<code class=\"language-text\">[3,4,3,1,2]</code>のような可変長配列で管理し，一日ごとにすべてのタイマーをデクリメントしながら，0 を見つけて子供を追加していく方法です．しかしこの方法は計算コストが高いです．</p>\n<h4>早い方法</h4>\n<p>上記の増加表を見ていると，ある時点で同じ内部タイマーを持つイワシは，その後の変化が同じであることに気づきます．つまり，イワシごとの内部タイマーを管理するのではなく，内部タイマーごとのイワシの数を覚えれば十分であることになります．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">After  7 days: 3,4,3,1,2,3,4,5,5,6\n\nの場合，\n\n[3,4,3,1,2,3,4,5,5,6]\n\nではなく\n\n[0,1,1,3,2,2,1,0,0]\n\nを扱う</code></pre></div>\n<p>そして，内部タイマーを減らすためには，配列を左にシフトします．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[0,1,1,3,2,2,1,0,0]\n\n日が経過したので左にシフト\n\n[1,1,3,2,2,1,0,0,0]\n\n添字0の位置が1\n→内部タイマー0のイワシが1ひきいる\n→1ひきの子供が生まれる\n→配列の添字8（右端）に1を加算\n\n...</code></pre></div>\n<h4>もうちょっと早い？方法</h4>\n<p>言語やデータ構造によっては，配列を左シフトするのは高価かもしれません．</p>\n<p>親イワシは内部タイマーによって順番に子供を産んでいくので，大人イワシだけの配列を作り，「現在子供を産む大人イワシのポインタ」をループさせれば良いと思いました．「子供イワシ」は別のキューで管理し，大人になったら大人イワシ配列へ追加します．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">大人イワシ配列，子供イワシキュー\n[0,1,1,3,2,2,1] [0,0]\n ^現在子供を産むイワシ\n\n→子供を産むイワシなし，成長して大人になったイワシなし\n\n[次の日]\n\n[0,1,1,3,2,2,1] [0,1]\n   ^現在子供を産むイワシ\n\n→子供を産むイワシ1ひき，成長して大人になったイワシなし\n\n[次の日]\n\n[0,1,1,3,2,2,1] [1,1]\n     ^現在子供を産むイワシ\n\n→子供を産むイワシ1ひき，成長して大人になったイワシなし\n\n[次の日]\n\n[0,1,2,3,2,2,1] [1,3]\n       ^現在子供を産むイワシ\n\n→子供を産むイワシ1ひき，成長して大人になったイワシ1ひき（現在子供を産むイワシポインタの直前に加算）\n\n...</code></pre></div>\n<p>以下のコードはこの方法で実装されています．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day06-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>255 日後のイワシの数を回答します．上記のナイーブな実装ではきついはずです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day06-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/7\" target=\"_blank\" rel=\"noopener\">Day 7: The Treachery of Whales</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>横方向にしか動けないカニの潜水艦を縦に整列させる問題です．（そして，カニ潜水艦から出るビームか何かで海底を破壊するらしいです）</p>\n<p>カニ潜水艦の初期位置が<code class=\"language-text\">16,1,2,0,4,2,7,1,2,14</code>のように与えられます．図示すると以下のようになります．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">位置:     0123456789...\n潜水艦1:                  #\n潜水艦2:   #\n潜水艦3:    #\n潜水艦4:  #\n潜水艦5:      #\n潜水艦6:    #\n潜水艦7:         #\n潜水艦8:   #\n潜水艦9:    #\n潜水艦10:               #</code></pre></div>\n<h3>Part 1</h3>\n<p>カニ潜水艦は横へ 1 つ動くのに燃料を 1 消費します．全体の燃料が最も少なくなる整列位置を回答します．（上記の例では位置 2 が最もエコらしいです）</p>\n<p>全域探索で解きました．すべての位置について消費燃料を計算し，最小値を求めればいいです．もっと効率の良い方法があるかもしれません．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day07-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>実はカニ潜水艦は，横へ 1 つ動くのに燃料 1，もう 1 つ動くのに燃料 2，さらに動くのに燃料 3 を消費するのだそうです．そのうえで全体の燃料が最も少なくなる位置を回答します．</p>\n<p>こちらも全域探索でゴリ押して解けました．各潜水艦の消費コストは，等差数列の和の公式を知っていれば <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathcal{O}(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span> で求まります．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day07-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[むずかしい] <a href=\"https://adventofcode.com/2021/day/8\" target=\"_blank\" rel=\"noopener\">Day 8: Seven Segment Search</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>配線がおかしい 7 セグの表示を復元する問題です．</p>\n<p>次のような入力が与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">eadbcf faceb faecgd gdefabc adc ad adbf gfacbe bceda dcegb | gdfcae adc cedbfa dafb\nedbfga begcd cbg gc gcadebf fbgde acbgfd abcde gfcbed gfec | fcgedb cgb dgebacf gc\nfgaebd cg bdaec gdafb agbcfd gdcbef bgcad gfac gcb cdgabef | cg cg fdcagb cbg\n...</code></pre></div>\n<p>潜水艦にはたくさんの 7 セグ 4 桁 ディスプレイが搭載されていますが，それぞれで配線がおかしいです．各行は，各 4 桁 7 セグディスプレイに関する情報です．</p>\n<p>今は 1 つの行，1 つの 7 セグ 4 桁 ディスプレイに着目します．</p>\n<p>ディスプレイは次のようになっています．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">潜水艦からの入力: a b c d e f g\n                  | | | | | | |\n            [ここで配線が入れ替わっている]\n                  | | | | | | |\nディスプレイ入力: a b c d e f g\n aa  |  aa  |  aa  |  aa\nb  c | b  c | b  c | b  c\nb  c | b  c | b  c | b  c\n dd  |  dd  |  dd  |  dd\ne  f | e  f | e  f | e  f\ne  f | e  f | e  f | e  f\n gg  |  gg  |  gg  |  gg</code></pre></div>\n<p>つまり，1 つのディスプレイ内の全ての桁は同じ配線ミスの影響を受けます．このディスプレイに対応する次の入力に着目します．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">eadbcf faceb faecgd gdefabc adc ad adbf gfacbe bceda dcegb | gdfcae adc cedbfa dafb</code></pre></div>\n<p>行の右側は，現在点灯しているディスプレイ側のセグを表しています．1 桁目は<code class=\"language-text\">cdfeb</code>，2 桁目は<code class=\"language-text\">fcadb</code>…が点灯しています．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">潜水艦からの入力: a b c d e f g\n                  | | | | | | |\n            [ここで配線が入れ替わっている]\n                  | | | | | | |\nディスプレイ入力: a b c d e f g\n ##  |  ##  |  ##  |  ##\n.  # | .  # | #  # | #  .\n.  # | .  # | #  # | #  .\n ##  |  ##  |  ##  |  ##\n#  # | .  . | #  # | .  #\n#  # | .  . | #  # | .  #\n ##  |  ..  |  ..  |  ..</code></pre></div>\n<p>配線がおかしいので表示がめちゃくちゃです．</p>\n<p>入力行の左側は，表示されうるディスプレイ側のパターンを表しています．0〜9 の 10 パターンあります．つまり，<code class=\"language-text\">ad</code>はディスプレイの a と d が同時に表示されうることを表します．</p>\n<p>このようなディスプレイが入力行の数だけ潜水艦に設置されています．</p>\n<h3>Part 1</h3>\n<p>潜水艦の全てのディスプレイに 1, 4, 7, 8 がいくつ表示されているか求められます．これらの数字は，表示のために必要なセグ数が固有なので，配線ミスの影響を受けずに識別可能です．</p>\n<p>例えば，1 を表示するためには 2 つのセグが必要ですが，0〜9 の他の数字で 2 つのセグのみで表示できるものはありません．</p>\n<p>したがって，入力行の右側で 2 つのセグを使用しているものを数えれば，潜水艦全体の 1 の個数がわかります．</p>\n<p>他の数字に関しても同様に数えるだけです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day08-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>各ディスプレイの表示を解析し，数値の合計値を回答します．</p>\n<p>ここでは，ディスプレイ側の各セグごとに「接続されうる潜水艦側のセグ」を管理して解きました．以下の行を例に詳しく説明します．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">eadbcf faceb faecgd gdefabc adc ad adbf gfacbe bceda dcegb | gdfcae adc cedbfa dafb</code></pre></div>\n<p>行の左側について，まず表示セグの数ごとに整理します．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//表示セグ2個（表している数字は1）\nad\n\n// 表示セグ3個（表している数字は7）\nadc\n\n// 表示セグ4個（表している数字は4）\nadbf\n\n// 表示セグ5個（表している数字は2 or 3 or 5）\nfaceb\nbceda\ndcegb\n\n// 表示セグ6個（表している数字は0 or 6 or 9）\neadbcf\nfaecgd\ngfacbe\n\n// 表示セグ7個（表している数字は8）\ngdefabc</code></pre></div>\n<p>次に，ディスプレイの各セグについて「接続されうる潜水艦側のセグ」を準備します．最初は全ての可能性があるので次のようになります．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ディスプレイセグa: (a, b, c, d, e, f, g)\nディスプレイセグb: (a, b, c, d, e, f, g)\nディスプレイセグc: (a, b, c, d, e, f, g)\nディスプレイセグd: (a, b, c, d, e, f, g)\nディスプレイセグe: (a, b, c, d, e, f, g)\nディスプレイセグf: (a, b, c, d, e, f, g)\nディスプレイセグg: (a, b, c, d, e, f, g)</code></pre></div>\n<p>ここで，例えば<code class=\"language-text\">ad</code>の情報を使うと次のように推論できます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"ad\"は表示に2個のセグを使う\n→2個のセグで表示する数字は1しかない\n→したがって，ディスプレイセグのaとdには，潜水艦側のcまたはfしか接続され得ない\n\nディスプレイセグa: (c, f)\nディスプレイセグb: (a, b, c, d, e, f, g)\nディスプレイセグc: (a, b, c, d, e, f, g)\nディスプレイセグd: (c, f)\nディスプレイセグe: (a, b, c, d, e, f, g)\nディスプレイセグf: (a, b, c, d, e, f, g)\nディスプレイセグg: (a, b, c, d, e, f, g)\n\nまた，ディスプレイセグのaとd以外に，潜水艦側のcとfが接続されることはない\n\nディスプレイセグa: (c, f)\nディスプレイセグb: (a, b, d, e, g)\nディスプレイセグc: (a, b, d, e, g)\nディスプレイセグd: (c, f)\nディスプレイセグe: (a, b, d, e, g)\nディスプレイセグf: (a, b, d, e, g)\nディスプレイセグg: (a, b, d, e, g)</code></pre></div>\n<p>続けて，例えば<code class=\"language-text\">faceb</code>，<code class=\"language-text\">bceda</code>，<code class=\"language-text\">dcegb</code>の情報を使うと次にように推論できます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"faceb\"，\"bceda\"，\"dcegb\"に関して，それぞれの表示に5個のセグを使う\n→2または3または5の入力である\n→それぞれにセグb，c，eが共通して現れている．\n→これらは2，3，5の表示に共通して使う部分（以下参照）が接続されているディスプレイセグである\n ##  // #: 共通部分\n.  . // .: 非共通部分\n.  .\n ##\n.  .\n.  .\n ##\n→つまり，これらのセグには，2，3，5の表示に共通して使わない部分の潜水艦側セグは接続されていない\n→ディスプレイセグb，c，eからb，c，e，fを削除\n\nディスプレイセグa: (c, f)\nディスプレイセグb: (a, d, g)\nディスプレイセグc: (a, d, g)\nディスプレイセグd: (c, f)\nディスプレイセグe: (a, d, g)\nディスプレイセグf: (a, b, d, e, g)\nディスプレイセグg: (a, b, d, e, g)\n\nまた，\"faceb\"，\"bceda\"，\"dcegb\"に「現れているが共通していないセグ」には，2，3，5の表示に共通して使う部分の潜水艦側セグは接続されていない\n→つまり，\"faceb\" | \"bceda\" | \"dcegb\" - \"faceb\" &amp; \"bceda\" &amp; \"dcegb\"＝\"adfg\"には，潜水艦側のa，d，gは接続されない\n→ディスプレイセグa，d，f，gからa，d，gを削除\n\nディスプレイセグa: (c, f)\nディスプレイセグb: (a, d, g)\nディスプレイセグc: (a, d, g)\nディスプレイセグd: (c, f)\nディスプレイセグe: (a, d, g)\nディスプレイセグf: (b, e)\nディスプレイセグg: (b, e)</code></pre></div>\n<p>…というようにして，全ての制約を使うと潜水艦側セグとディスプレイセグの対応関係がわかります．あとは，その対応関係と入力行右側の情報を使ってディスプレイに本来表示されるはずだった数値を復元し，それをすべての行に対して実行し，合計を求めました．</p>\n<p>効率性や計算量などは問題になりませんでしたが，とにかく上記のアルゴリズムを実装に落とし込むのが大変でした．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day08-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/9\" target=\"_blank\" rel=\"noopener\">Day 9: Smoke Basin</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>海底の標高マップから盆地を見つける問題です．海底火山の煙を回避するために，煙の流れを見たいそうです．</p>\n<p>次のようなマップが入力されます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">2199943210\n3987894921\n9856789892\n8767896789\n9899965678</code></pre></div>\n<p>各数字はその地点の標高です．</p>\n<h3>Part 1</h3>\n<p>周囲よりも低い場所のリスクレベルを回答します．リスクレベルは，その位置の<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>標高</mtext><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">標高 + 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord cjk_fallback\">標高</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>です．つまり，上下左右の自分自身よりも高い場所について，その標高の合計を数えます．マップの端は反対側と隣接していません．</p>\n<p>基本的に全域探索しました．マップの端付近では周囲のセルが 3 個だったり 2 個だったりになるので，そのへんだけ注意していれば問題なく解けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day09-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>盆地を探索します．盆地とは 9 以外のセルのクラスタです．例えば次のようなものです．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">##99943210\n#987894921\n9856789892\n8767896789\n9899965678</code></pre></div>\n<p>すべての盆地を面積が大きい順に並べて，最大 3 つの面積の積を回答します．</p>\n<p>まず，盆地の面積を深さ優先探索する次のような関数を作りました．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">find_basin_cells</span><span class=\"token operator\">&lt;</span><span class=\"token lifetime-annotation symbol\">'a</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>\n    point<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Point</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">usize</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    visited_points<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token lifetime-annotation symbol\">'a</span> <span class=\"token keyword\">mut</span> <span class=\"token class-name\">HashSet</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Point</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">usize</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span>\n    map<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token lifetime-annotation symbol\">'a</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token lifetime-annotation symbol\">'a</span> <span class=\"token keyword\">mut</span> <span class=\"token class-name\">HashSet</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Point</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">usize</span><span class=\"token operator\">>></span></code></pre></div>\n<p>そして，マップのすべての位置に対してこの関数を実行して盆地を探索しました．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day09-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/10\" target=\"_blank\" rel=\"noopener\">Day 10: Syntax Scoring</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>カッコを数える問題です．入力は次のようなものです．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[({(&lt;(())[]>[[{[]{&lt;()&lt;>>\n[(()[&lt;>])]({[&lt;{&lt;&lt;[]>>(\n{([(&lt;{}[&lt;>[]}>{[]{[(&lt;()>\n...</code></pre></div>\n<p>各開きカッコはそれぞれの閉じカッコに対応します．</p>\n<p>入力の各行には，カッコの対応が不正なものと，不完全（不正ではないが閉じカッコが足りない）なものがあります．</p>\n<h3>Part 1</h3>\n<p>不正な行に関して「構文エラー得点」を計算します．構文エラー得点ってなんやねん．各行の一番左の不正なカッコについて以下の規則で得点を付与し，その合計を回答します．</p>\n<ul>\n<li><code class=\"language-text\">)</code>: 3 points.</li>\n<li><code class=\"language-text\">]</code>: 57 points.</li>\n<li><code class=\"language-text\">}</code>: 1197 points.</li>\n<li><code class=\"language-text\">></code>: 25137 points.</li>\n</ul>\n<p>各行を左から操作します．開きカッコがあればスタックに積み，閉じカッコがあればスタックから下ろします．下ろす際，開きカッコに対応しないのであれば構文エラーで得点が加算されます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">入力が\"[{}>\"の場合\n\nスタック: []\n[{}>\n\nスタック: [ // 開きカッコなのでスタックに積む\n[{}>\n^ポインタ\n\nスタック: [{ // 開きカッコなのでスタックに積む\n[{}>\n ^ポインタ\n\nスタック: [ // \"{\"を\"}\"で消費\n[{}>\n  ^ポインタ\n\nスタック: [ // \"[\"を\">\"で消費できない！構文エラー，25137ポイント！\n[{}>\n   ^ポインタ</code></pre></div>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day10-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>不完全な行に対して足りないカッコを補完します．保管する際，以下の規則でやはり「補完ポイント」が得られます（？）．全ての行の補完ポイント中央値を回答します．</p>\n<h4>得点規則</h4>\n<ul>\n<li>文字を保管する度に\n<ul>\n<li>いままでの得点を 5 倍</li>\n<li>対応した得点を加算\n<ul>\n<li><code class=\"language-text\">)</code>: 1 point.</li>\n<li><code class=\"language-text\">]</code>: 2 points.</li>\n<li><code class=\"language-text\">}</code>: 3 points.</li>\n<li><code class=\"language-text\">></code>: 4 points.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>補完処理は Part 1 のコードの拡張で実現できます．エラー無く最後の文字まで読んだ時，スタックに残っている開きカッコから閉じカッコを保管します．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">入力が\"[{\"の場合\n\nスタック: []\n[{\n\nスタック: [ // 開きカッコなのでスタックに積む\n[{\n^ポインタ\n\nスタック: [{ // 開きカッコなのでスタックに積む\n[{\n ^ポインタ\n\n入力を全て読んだがスタックが空でないので補完可能\n\nスタック: [ // 開きカッコを消費\n[{} // 対応する閉じカッコを補完，3ポイント\n  ^ポインタ\n\nスタック: // 開きカッコを消費\n[{}] // 対応する閉じカッコを補完，15 + 2 = 17ポイント\n   ^ポインタ\n\nスタックが空なので修了</code></pre></div>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day10-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/11\" target=\"_blank\" rel=\"noopener\">Day 11: Dumbo Octopus</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>光るタコのパターンを予測する問題です．</p>\n<p>10 * 10 のグリッドにタコが隙間なく敷き詰められています（そんなことある？）</p>\n<ul>\n<li>それぞれのタコはエネルギーレベルを持っています．</li>\n<li>レベルは各ステップごとに 1 増加します</li>\n<li>エネルギーが 10 以上になるとタコは発光し，エネルギーが即座に 0 へ戻ります．\n<ul>\n<li>（つまり，各ステップでタコのエネルギーは 0〜9 しかありえない）</li>\n</ul>\n</li>\n<li>発光した際，周囲 8 つのタコのエネルギーを 1 増加します．</li>\n<li>これにより発光の連鎖もあり得ます\n<ul>\n<li>ただし，そのステップで発光したタコは（エネルギーが 0 のタコは），ほかのタコによってエネルギーを増加されません．</li>\n</ul>\n</li>\n</ul>\n<p>タコのエネルギーの初期値が次のように与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">5483143223\n2745854711\n5264556173\n6141336146\n6357385478\n4167524645\n2176841721\n6882881134\n4846848554\n5283751526</code></pre></div>\n<h3>Part 1</h3>\n<p>100 ステップまでに発光したタコの個数を回答します．</p>\n<p>上記の規則を愚直に実装していけば問題ありません．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day11-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>全てのタコは同時に発光する瞬間のステップ数を回答します．</p>\n<p>これも，Part 1 のコードを少し拡張すればすぐに求められます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day11-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[ふつう] <a href=\"https://adventofcode.com/2021/day/12\" target=\"_blank\" rel=\"noopener\">Day 12: Passage Pathing</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>洞窟を探索します．洞窟はいくつかの部屋にわかれており，次のような形式で地図が入力されます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">start-A\nstart-b\nA-c\nA-b\nb-d\nA-end\nb-end</code></pre></div>\n<p>図にすると以下のとおりです．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    start\n    /   \\\nc--A-----b--d\n    \\   /\n     end</code></pre></div>\n<p>部屋には小部屋（小文字で表される）と大部屋（大文字で表される）があります．</p>\n<h3>Part 1</h3>\n<p>それぞれの小部屋を高々 1 度しか訪れてはいけない場合の，スタートからゴールまでのパスの数を回答します．</p>\n<p>グラフの表現には様々な方法があります．ハッシュマップや集合が使えればそれが一番楽だと思いますが，しっかりとノード，枝といった構造体を作ってもいいですね．</p>\n<p>全てのパスを求めなければなりませんが，計算量が問題となるほどのグラフではありませんでした．そのため，愚直に DFS で解きました．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">type Node = String;\ntype Path = Vec&lt;Node>;\nfn visit(path: &amp;Path, map: &amp;Map) -> Vec&lt;Path> {}</code></pre></div>\n<p>として，パスを見ながら行ける部屋に全て行くというものです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day12-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p><strong>1 度だけ個部屋に 2 度訪れていい</strong> という条件のもとで，スタートからゴールまでのパスの数を回答します．各部屋に 2 度訪れても良いというわけではないので注意してください．</p>\n<p>基本的には Part 1 の拡張で解けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day12-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/13\" target=\"_blank\" rel=\"noopener\">Day 13: Transparent Origami</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>おりがみをする問題です．潜水艦の赤外線カメラを使用したいのですが，そのカメラを使用するためのシリアルキーが折り紙に印字されているらしいです．</p>\n<p>入力は次のようなものです．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">6,10\n0,14\n9,10\n0,3\n10,4\n4,11\n6,0\n6,12\n4,1\n0,13\n10,12\n3,4\n3,0\n8,4\n1,10\n2,14\n8,10\n9,0\n\nfold along y=7\nfold along x=5</code></pre></div>\n<p>入力の最初の方には 2 次元平面の点が並んでいます．この点は透明な折り紙シートに打たれている点です．最後の方には折り方の指示が書かれています．例えば，<code class=\"language-text\">fold along y=7</code>は <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mn>7</mn></mrow><annotation encoding=\"application/x-tex\">y = 7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">7</span></span></span></span></span> の直線に紙を折ることを示しています．</p>\n<h3>Part 1</h3>\n<p>紙を 1 回折った後の点の数を回答します．</p>\n<p>まず，点群の表現方法について考えます．本番用のパズル入力の折り方指示を見ると，<code class=\"language-text\">x = 655</code>といった大きな数字であることがわかります．つまり，この紙の高さや幅は 1300 以上もあるということです．紙を 2 次元配列で表現する方法もありますが，約 170 万個もの要素をメモリ上に確保するのは大変そうです．そのため，以下のようにガッシュセットを使って点群を表現することにしました．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Point</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">u32</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">u32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Map</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">HashSet</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Point</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>これによって，メモリ消費量が点の数に対して線形になるのでエコだと思います．</p>\n<p>次に，紙を折るという処理を考えます．とはいえ座標を変換するだけなので少し考えればかんたんです．例えば以下の紙上の点 p を座標変換する場合を考えます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  01234\n0 .....\n1 .....\n2 .....\n3 ----- // y=3で折る\n4 .....\n5 ..p..\n6 .....</code></pre></div>\n<p>ここで，x 座標はそのまま 2 です．y 座標に関しては，「折り目から p までの距離の 2 倍を p から引けばいい」と図形的にわかります．したがって，</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mtext>移動後の</mtext><mi>y</mi><mtext>座標</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msub><mi>p</mi><mi>y</mi></msub><mo>−</mo><mn>2</mn><mo>×</mo><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>y</mi></msub><mo>−</mo><mtext>折り目</mtext><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mn>2</mn><mo>×</mo><mtext>折り目</mtext><mi>y</mi><mo>−</mo><msub><mi>p</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mn>2</mn><mo>×</mo><mn>3</mn><mo>−</mo><mn>5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n移動後のy座標 &#x26;= p_y - 2 \\times (p_y - 折り目y) \\\\\n              &#x26;= 2 \\times 折り目y - p_y \\\\\n              &#x26;= 2 \\times 3 - 5 \\\\\n              &#x26;= 1\n\\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6em;vertical-align:-2.75em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord cjk_fallback\">移動後の</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord cjk_fallback\">座標</span></span></span><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord cjk_fallback\">折り目</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord cjk_fallback\">折り目</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">5</span></span></span><span style=\"top:-0.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span></span></span></span></span></div>\n<p>となります．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  01234\n0 .....\n1 ..p..\n2 .....\n3 ----- // y=3で折った</code></pre></div>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day13-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>Part 1 のコードを使って，残りの指示通りに折っていくとシリアルキーが図形的に浮かび上がります．<code class=\"language-text\">Map</code>を表示する関数を追加で実装する必要があるでしょう．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day13-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[ふつう] <a href=\"https://adventofcode.com/2021/day/14\" target=\"_blank\" rel=\"noopener\">Day 14: Extended Polymerization</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>ポリマーの生成過程をシミュレートします．次のような入力が与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">NNCB\n\nCH -> B\nHH -> N\nCB -> H\nNH -> C\nHB -> C\nHC -> B\nHN -> C\nNN -> C\nBH -> H\nNC -> B\nNB -> B\nBN -> B\nBB -> N\nBC -> B\nCC -> N\nCN -> C</code></pre></div>\n<p>最初の行はポリマーの初期状態です．ポリマーは<code class=\"language-text\">B</code>，<code class=\"language-text\">N</code>，<code class=\"language-text\">C</code>，<code class=\"language-text\">H</code>といった要素が単連結してできています．</p>\n<p>その後の入力はポリマーの生成ルールです．<code class=\"language-text\">AB -> C</code>といった表記は，1 ステップ経過するたびに<code class=\"language-text\">AB</code>の間に<code class=\"language-text\">C</code>という要素が増えることを意味しています．</p>\n<p>ポリマーは以下のように増えていきます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Template:     NNCB\n\n\"NN -> C\"によってCを挿入，\"NC -> B\"によってBを挿入，\"CB -> H\"によってHを挿入\n\nAfter step 1: NCNBCHB\nAfter step 2: NBCCNBBBCBHCB\n...</code></pre></div>\n<h3>Part 1</h3>\n<p>10 ステップ経過後のポリマーにおいて，一番多い要素と一番少ない要素の差を回答します．</p>\n<h4>ナイーブな解法</h4>\n<p>以下のように，可変長配列などを用いてポリマーを表現し，先頭から生成ルールを適用していきます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">現状のポリマー：['N',      'N',      'C',      'B']\n\n  次のポリマー：['N', 'C', 'N', 'B', 'C', 'H', 'B']\n                       ^追加     ^追加     ^追加\n...</code></pre></div>\n<p>しかし，ポリマー長さは二次関数的に増加していくので，この方法ではすぐに限界が来ます．</p>\n<h4>効率的な解法</h4>\n<p>上記の手法では，とても長いポリマーに対して高々 16 個しかない生成ルールを繰り返し適用しているのがムダでした．今回の問題では我々は要素の <strong>隣接</strong> にしか興味がないことに気づきました．そのため，以下のようなアルゴリズムで効率よく解けます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Template: NNCB\n→次の構造を初期化する\n\n// 要素個数マップ\n[\n    N -> 2\n    C -> 1\n    B -> 1\n]\n// 隣接個数マップ\n[\n    NN -> 1\n    NC -> 1\n    CB -> 1\n]\n\nステップ1\n1. 新しい隣接個数マップを用意\n2. 隣接個数マップの各隣接について以下を実行\n  1. 新しく増える要素をルールから特定\n  2. 新しく増える隣接を，新しい隣接個数マップに追加\n  例：NN -> 1の場合\n    →ルール「NN->C」によって間にCが増える．\n    →つまり「NC」と「CN」の隣接が増えるので，新しい隣接個数マップに記録．\n\nステップ2\n...</code></pre></div>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day14-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>上記のナイーブな実装だと厳しいはずです．効率的な解法を使いました．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day14-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[ふつう] <a href=\"https://adventofcode.com/2021/day/15\" target=\"_blank\" rel=\"noopener\">Day 15: Chiton</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>次のような入力が与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1163751742\n1381373672\n2136511328\n3694931569\n7463417111\n1319128137\n1359912421\n3125421639\n1293138521\n2311944581</code></pre></div>\n<p>これは 2 次元のマップで，左上がスタート，左下がゴール，各数値はその地点の <strong>リスクレベル</strong> です．</p>\n<h3>Part 1</h3>\n<p>あるパスのリスクレベルは，その軌跡の各地点のリスクレベルの合計です．スタートからゴールまでのあらゆるパスの中で，もっとも低いリスクレベルの値を回答します．</p>\n<p>この問題は普通に A*探索で突破しました．ヒューリスティック関数には，ゴールまでのマンハッタン距離を採用しました．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day15-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>Part 1 に比べてマップの広さが 1 辺 5 倍になります．これも Part 1 と全く同じアルゴリズムで解きました．ただし，探索に 4 分ほどかかってしまっています．こう少し効率的な解き方がありそうです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day15-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[ふつう] <a href=\"https://adventofcode.com/2021/day/16\" target=\"_blank\" rel=\"noopener\">Day 16: Packet Decoder</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>バイナリにデコードされた数式をパースする問題です．次のような入力が与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">E20D7880532D4E551A5791BD7B8C964C1548CB3...</code></pre></div>\n<p>上記のデータがどのような数式を表すのか…という仕様の部分は問題本文を参照してください．</p>\n<p>今までの問題と比べて仕様が複雑です．難しいアルゴリズムなどは必要ない代わりに，仕様を正確にコードで変換するモデリング力が試されます．ときにはテストなども書きつつ，動作を確認しながらコーディングする必要があるでしょう．私はテストを書いていませんが．</p>\n<h3>Part 1</h3>\n<p>全てのパケットにはバージョン番号があり，ここではその番号の合計値を回答します．パケットのパースがうまくできているかを一度確かめに来ている感じです．</p>\n<p>どうせ後から実際の計算も行わなければならなくなるので，<code class=\"language-text\">入力データ -[パーサー]-> AST -[評価器]-> 計算結果</code>という構成をとることにしました．</p>\n<p>AST といってもそんなに複雑なものではなくて，以下のようなノードのあつまりです．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Node</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Literal</span> <span class=\"token punctuation\">{</span>\n        version<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span><span class=\"token punctuation\">,</span>\n        type_id<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span><span class=\"token punctuation\">,</span>\n        value<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u128</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Operator</span> <span class=\"token punctuation\">{</span>\n        version<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span><span class=\"token punctuation\">,</span>\n        type_id<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span><span class=\"token punctuation\">,</span>\n        nodes<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Node</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Part 1 ではパーサーのみを愚直に実装しました．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day16-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>Part 2 では AST を値に評価する部分を作成しました．こちらのほうが分量は軽かったです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day16-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/17\" target=\"_blank\" rel=\"noopener\">Day 17: Trick Shot</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>簡単な物理シミュレーションを実装します．鍵が海のある領域にあるかもしれないため，そこにセンサーを放り投げて調査するそうです．</p>\n<p>調査したい範囲に関する次のような入力が与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">target area: x=20..30, y=-10..-5</code></pre></div>\n<p>ここは 2 次元空間で，自分は<code class=\"language-text\">(0, 0)</code>にいます．センサーを<code class=\"language-text\">S</code>から右上に投げた様子を図示すると次のようになります．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.............#....#............\n.......#..............#........\n...............................\nS........................#.....\n...............................\n...............................\n...........................#...\n...............................\n....................TTTTTTTTTTT\n....................TTTTTTTTTTT\n....................TTTTTTTT#TT\n....................TTTTTTTTTTT\n....................TTTTTTTTTTT\n....................TTTTTTTTTTT</code></pre></div>\n<p>放り投げたセンサーは次の法則で運動します．</p>\n<ul>\n<li>各ステップごとに\n<ul>\n<li>横方向の速度が 1 減少する（水の抵抗）</li>\n<li>深さ方向の速度が 1 増加する（重力加速度）</li>\n</ul>\n</li>\n</ul>\n<h3>Part 1</h3>\n<p><code class=\"language-text\">S</code>から様々な初期速度でセンサーを投げてターゲットに入ったとして，センサーが到達する最も高い位置を回答します．</p>\n<p>なお，次のような <strong>オーバーシュート</strong> は領域に入ったとみなされません．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">S..............................................................\n...............................................................\n...............................................................\n...............................................................\n.................#.............................................\n....................TTTTTTTTTTT................................\n....................TTTTTTTTTTT................................\n....................TTTTTTTTTTT................................\n....................TTTTTTTTTTT................................\n....................TTTTTTTTTTT..#.............................\n....................TTTTTTTTTTT................................\n...............................................................\n...............................................................\n...............................................................\n...............................................................\n................................................#..............\n...............................................................\n...............................................................\n...............................................................\n...............................................................\n...............................................................\n...............................................................\n..............................................................#</code></pre></div>\n<p>→ 速度が早すぎて領域を飛び越してしまっています．</p>\n<h4>愚直な解法</h4>\n<p>あらゆる方向に飛ばしてみる，という方法をまず思いつきます．つまり初速 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mi>v</mi><mn>0</mn></msub><mo>⃗</mo></mover><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>v</mi><mi>x</mi></msub><mo separator=\"true\">,</mo><msub><mi>v</mi><mi>y</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\vec{v_0} = (v_x, v_y)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.864em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.714em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2355em;\"><span class=\"overlay\" style=\"height:0.714em;width:0.471em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.471em\" height=\"0.714em\" style=\"width:0.471em\" viewBox=\"0 0 471 714\" preserveAspectRatio=\"xMinYMin\"><path d=\"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z\"></path></svg></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span> を <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo>−</mo><mn>10000</mn><mo separator=\"true\">,</mo><mo>−</mo><mn>10000</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(-10000, -10000)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">−</span><span class=\"mord\">10000</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">−</span><span class=\"mord\">10000</span><span class=\"mclose\">)</span></span></span></span></span> 〜 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>10000</mn><mo separator=\"true\">,</mo><mn>10000</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(10000, 10000)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">10000</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">10000</span><span class=\"mclose\">)</span></span></span></span></span> くらいまで雑に試してみるというものです．</p>\n<h4>少し賢い解法</h4>\n<p>物理を少し知っていれば，ベクトルは分解できることに気づきます．つまり，今回 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> には興味がないということです．したがって， <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">_</mi><mo separator=\"true\">,</mo><mo>−</mo><mn>10000</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\_, -10000)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.06em;vertical-align:-0.31em;\"></span><span class=\"mopen\">(</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">−</span><span class=\"mord\">10000</span><span class=\"mclose\">)</span></span></span></span></span> 〜 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">_</mi><mo separator=\"true\">,</mo><mn>10000</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\_, 10000)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.06em;vertical-align:-0.31em;\"></span><span class=\"mopen\">(</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">10000</span><span class=\"mclose\">)</span></span></span></span></span> を試せば十分というわけです．私はこの方法で解きました．</p>\n<h4>賢い解法</h4>\n<p>もう少し軌道を観察していると，打ち上げたセンサーは <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">_</mi><mo separator=\"true\">,</mo><mo>−</mo><msub><mi>v</mi><mi>y</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\_, -v_y)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.06em;vertical-align:-0.31em;\"></span><span class=\"mopen\">(</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">−</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span> で位置 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">_</mi><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\_, 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.06em;vertical-align:-0.31em;\"></span><span class=\"mopen\">(</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span></span> に落ちてくるのに気づきます．つまり，最も高い高度を目指して初速 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>y</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span></span> を増加させると，その逆の速度で位置 0 に落下してくるということです．そして，落下速度が早すぎると次のステップで， <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>y</mi></msub><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">v_y + 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span> の落下速度で領域をオーバーシュートしてしまいます．したがって，原点からの落下速度が領域をギリギリオーバーシュートしない打ち上げ速度を狙えばいいということです．</p>\n<p>この入力を例に考えてみますと，</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">target area: x=20..30, y=-10..-5</code></pre></div>\n<p>位置 0 から下方向に投げたとき，ギリギリ領域に収まる落下速度は-10 です．つまり y の下端ギリギリです．したがって，原点での落下速度は −9 が最速で，初速も 9 とできますので，最高高度は <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>9</mn><mo>+</mo><mn>8</mn><mo>+</mo><mn>7</mn><mo>+</mo><mo>⋯</mo><mo>+</mo><mn>2</mn><mo>+</mo><mn>1</mn><mo>=</mo><mo stretchy=\"false\">(</mo><mn>10</mn><mo>×</mo><mn>9</mn><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">/</mi><mn>2</mn><mo>=</mo><mn>45</mn></mrow><annotation encoding=\"application/x-tex\">9 + 8 + 7 + \\cdots + 2 + 1 = (10 \\times 9) / 2 = 45</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">9</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">10</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">9</span><span class=\"mclose\">)</span><span class=\"mord\">/2</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">45</span></span></span></span></span> となります．</p>\n<p>コードすら必要なく解けてしまいますね！</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day17-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>領域に収まるすべての初速のパターン数を回答します．</p>\n<p>私は雑な全域探索で解きました．上記の考察から，y 方向の初速 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>y</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span></span> に関しては <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>±</mo><mtext>領域の下端位置</mtext></mrow><annotation encoding=\"application/x-tex\">\\pm{領域の下端位置}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">±</span><span class=\"mord\"><span class=\"mord cjk_fallback\">領域の下端位置</span></span></span></span></span></span> くらいの範囲を探索すればいいと気づきます．x 方向の探索範囲についても 1 ステップ目でオーバーシュートするような範囲は探索する必要がないため，0〜領域の右端位置くらいまでを探索すればいいでしょう．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day17-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[ふつう] <a href=\"https://adventofcode.com/2021/day/18\" target=\"_blank\" rel=\"noopener\">Day 18: Snailfish</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>クサウオが鍵を見たといいます．そして，数学の宿題を手伝ってくれたらどこで見たのか教えてくれるそうです．</p>\n<p>クサウオは <strong>クサウオ数</strong> という独自の命数法を使っていて，以下のようなものです．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[1,2]\n[[1,2],3]\n[9,[8,7]]\n[[1,9],[8,5]]</code></pre></div>\n<p>クサウオ数は常に 2 つの要素をもつタプルです．要素には 0〜9 またはクサウオ数が入ります．</p>\n<p>宿題は与えられた全てのクサウオ数の合計を求めることです．以下のようなクサウオ数のリストが入力として与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[[[0,[4,5]],[0,0]],[[[4,5],[2,6]],[9,5]]]\n[7,[[[3,7],[4,3]],[[6,3],[8,8]]]]\n[[2,[[0,8],[3,4]]],[[[6,7],1],[7,[1,6]]]]\n...</code></pre></div>\n<p>2 つのクサウオ数の足し算は以下の手順によって行われます．</p>\n<ol>\n<li>2 つのクサウオ数を新たなタプルとして連結する\n<ol>\n<li>例：<code class=\"language-text\">[1,2] + [3,4] = [[1,2],[3,4]]</code></li>\n</ol>\n</li>\n<li>連結したクサウオ数に <strong>削減処理</strong> を適用する</li>\n</ol>\n<p>削減処理は以下のように行われます．</p>\n<ol>\n<li>(ラベル)</li>\n<li>爆発：4 回以上ネストされているクサウオ数がある場合，そのような一番左のクサウオ数が <strong>爆発する</strong>．(ラベル)に戻る</li>\n<li>分裂：10 以上の数がある場合，その数は <strong>分裂して</strong> 新たなクサウオ数になる．(ラベル)に戻る</li>\n<li>おわり</li>\n</ol>\n<p>爆発は以下のように行われます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[[6,[5,[4,[3,2]]]],1]\n          ^^^^^ 爆発対象（ネストが4以上）\n\n1. クサウオ数が爆発すると，その左右の要素が飛んでいき，一番始めにぶつかった数に加算される\n2. 爆発したクサウオ数は0になる\n\nしたがって以下のようになります\n\n        v 3を加算  v 2を加算\n[[6,[5,[7,  0  ]]],3]\n          ^^^^^ 爆発対象（0になった）\n\nなお，加算対象が無い場合は何もしません</code></pre></div>\n<p>数の分裂は<code class=\"language-text\">[切り捨て(数/2),切り上げ(数/2)]</code>のように行われます．例えば<code class=\"language-text\">11</code>は<code class=\"language-text\">[5,6]</code>になります．</p>\n<p>以上，仕様が複雑なので注意して実装する必要がありますね．</p>\n<h3>Part 1</h3>\n<p>与えられた全てのクサウオ数を足した場合の <strong>マグニチュード</strong> を回答します．クサウオ数のマグニチュードは <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>左の数</mtext><mo>×</mo><mn>3</mn><mo>+</mo><mtext>右の数</mtext><mo>×</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">左の数 \\times 3 + 右の数 \\times 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord cjk_fallback\">左の数</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord cjk_fallback\">右の数</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span></span> で求められます．</p>\n<p>難しいのは，クサウオ数をどのように表現するのか，という点だとおもいます．そのまま実装するのであれば配列やタプルをネストすることになるわけですが，そうすると爆発処理が実装しづらそうです．したがって，次のような<code class=\"language-text\">char</code>の配列を用いることにしました．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[[6,[5,[4,[3,2]]]],1]\n\n上記のクサウオ数は以下のように表す\n\n['[', '[', '6', '[', '5', '[', '4', '[', '3', '2', ']', ']', ']', ']', '1', ']']</code></pre></div>\n<p>こうすることで，爆発の際に<code class=\"language-text\">現時点から左側の最初の数を特定</code>といった処理も，そのまま配列の走査として書けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day18-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>与えられたクサウオ数のうち，異なる 2 つを足し合わせる場合の最大のマグニチュードを回答します．</p>\n<p>素直に全ての組み合わせを計算すれば OK です．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day18-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[むずかしい] <a href=\"https://adventofcode.com/2021/day/19\" target=\"_blank\" rel=\"noopener\">Day 19: Beacon Scanner</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>3 次元空間で点群のマッチングを行う問題です．簡易的な SLAM といえるかも．</p>\n<p>3 次元空間の海中にビーコンと，そのスキャナーがいくつか展開されました．スキャナーによるスキャン情報が以下のように与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">--- scanner 0 ---\n404,-588,-901\n528,-643,409\n-838,591,734\n...\n\n--- scanner 1 ---\n686,422,578\n605,423,415\n515,917,-361\n...\n\n--- scanner 2 ---\n649,640,665\n682,-795,504\n-784,533,-524\n...\n\n--- scanner 3 ---\n-589,542,597\n605,-692,669\n-500,565,-823\n...\n\n--- scanner 4 ---\n727,592,562\n-293,-554,779\n441,611,-461\n...</code></pre></div>\n<p>スキャナーは自分が検知したビーコンの位置を，自分からの相対座標で報告しています．スキャナーのスキャン可能範囲は， <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo>±</mo><mn>1000</mn><mo separator=\"true\">,</mo><mo>±</mo><mn>1000</mn><mo separator=\"true\">,</mo><mo>±</mo><mn>1000</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\pm{1000}, \\pm{1000}, \\pm{1000})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">±</span><span class=\"mord\"><span class=\"mord\">1000</span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">±</span><span class=\"mord\"><span class=\"mord\">1000</span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">±</span><span class=\"mord\"><span class=\"mord\">1000</span></span><span class=\"mclose\">)</span></span></span></span></span> です．</p>\n<p>すべてのスキャナーが同じ方向を向いているとは限りません．スキャナーは，90 度単位で様々な姿勢をとり得ます．<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span>，<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span>，<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span></span></span>，<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">-x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\">x</span></span></span></span></span>，<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">-y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.1944em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span>，<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">-z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span></span></span>」に対してそれぞれ 4 種類の回転が考えられるため，24 種類の姿勢があり得ます．</p>\n<p>各スキャナーに対して，最小 12 個のビーコンを共有してスキャンしているスキャナーが 1 つ以上あります．</p>\n<h3>Part 1</h3>\n<p>マップ全体のビーコンの数を回答します．</p>\n<p>そのためには，すべてのビーコン群（=スキャン結果）を統合してマップ全体のビーコン群を得る必要があります．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[ビーコン群1] + [ビーコン群2] + [ビーコン群3] + ... = [全てのビーコン群]</code></pre></div>\n<p>つまり，2 つのビーコン群をマッチングする，上記の<code class=\"language-text\">+</code>演算子を実装できれば良いわけです．</p>\n<p>スキャナ 1 と 2 の 2 つのビーコン群が与えられて，スキャナ 1 を基準とした時のスキャナ 2 の位置と回転を返す，次のような関数を考えました．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">euclid<span class=\"token punctuation\">::</span>default<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><span class=\"token class-name\">Point3D</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Vector3D</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Vector</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Vector3D</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">i32</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Point</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Point3D</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">i32</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Scan</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">HashSet</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Point</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// (i32, Vector)は，スキャナ1を基準としたスキャナ2の(回転id, 位置)です</span>\n<span class=\"token comment\">// 回転idにか関しては後述します</span>\n<span class=\"token comment\">// なお，マッチしなければNoneを返します</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">match_scan</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">Scan</span><span class=\"token punctuation\">,</span> s2<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">Scan</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><em>「2 つのビーコン群を統合したビーコン群」が欲しいんじゃないの？</em> と思われるかもしれません．しかし，結局本質的に必要なのは 2 つのスキャナの相対位置と回転です．これらがわかればビーコン群の座標変換は自由にできます．むしろマッチングを行った結果何をしたいのかは外部の任せるというほうが，使い勝手が良いかなと思ってこのようにしました．</p>\n<p>ここで， <strong>スキャナ 2 のビーコン群をあらゆる姿勢に回転させたうえで，スキャナ 1 の各ビーコンについて，スキャナ 2 の各ビーコンと同一だと仮定した上で最低 12 個の一致があるか調べる</strong> ．という処理を思いつきました．自然言語だとうまく言えませんが，疑似コードでは以下のようになります．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">for</span> 回転id <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span><span class=\"token number\">24</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> ビーコン<span class=\"token number\">1</span> <span class=\"token keyword\">in</span> スキャン結果<span class=\"token number\">1</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> ビーコン<span class=\"token number\">2</span> <span class=\"token keyword\">in</span> スキャン結果<span class=\"token number\">2</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// スキャン結果2を回転idで回転</span>\n            <span class=\"token comment\">// スキャン結果1と2で12個以上のビーコンのマッチがあるか調べる</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>…なかなか計算量がヤバそうな処理ですが，ここは Rust さんに頑張ってもらいます．もうすこし良い方法がありそうです．</p>\n<p>この処理を実装するためには，あるビーコンの座標を 24 種類の姿勢に回転させる関数が必要になります．そのために，まずは，各軸を中心に座標を回転させる関数を次のように実装しました．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// angle_id: 0 ~ 3</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">rotate_x</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">,</span> angle_id<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">rotate_y</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">,</span> angle_id<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">rotate_z</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">,</span> angle_id<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>これらの基本的な操作を用いて，24 種類の回転をする次のような関数が書けます．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// angle_id: 0 ~ 23</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">rotate</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">,</span> angle_id<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// メモ：pがangle_id 1〜23を向いているとして，それをangle_id 0に戻すことをイメージして書いています</span>\n\n    <span class=\"token comment\">// どの軸に対する姿勢か，0: x, 1: y, 2: z</span>\n    <span class=\"token keyword\">let</span> axis_id <span class=\"token operator\">=</span> angle_id <span class=\"token operator\">/</span> <span class=\"token number\">8</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// マイナス方向を向くか，0: 向かない, 1: 向く</span>\n    <span class=\"token keyword\">let</span> flip_id <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>angle_id <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 軸に対して何回回転するか</span>\n    <span class=\"token keyword\">let</span> rotate_angle_id <span class=\"token operator\">=</span> angle_id <span class=\"token operator\">%</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> axis_rotated_point <span class=\"token operator\">=</span> <span class=\"token keyword\">match</span> axis_id <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 各軸のほうを向くように回転</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> flipped_point <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> flip_id <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// なにもしない</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">match</span> axis_id <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// 軸の反対側を向くように回転</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">match</span> axis_id <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 各軸を中心に所定の角度だけ回転</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>以上の処理によりすべてのビーコン群を統合すると，マップ全体のビーコンの数がわかります．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day19-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>各スキャナのマンハッタン距離を計算した時，もっとも遠い距離を回答します．</p>\n<p>先程の関数を用いてスキャナ 0 を基準としたすべてのスキャナの絶対位置を求めます．そのうえですべての組み合わせを考慮して最大値を求めれば良いです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day19-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[ふつう] <a href=\"https://adventofcode.com/2021/day/20\" target=\"_blank\" rel=\"noopener\">Day 20: Trench Map</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>バイナリ画像のフィルタ処理をする問題です．次のような入力が与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">..#.#..#####.#.#.#.###.##.....###.##.#..###.####..#####..#....#..#..##..###..######.###...####..#..#####..##..#.#####...##.#.#..#.##..#.#......#.###.######.###.####...#.##.##..#..#..#####.....#.#....###..#.##......#.....#..#..#..##..#...##.######.####.####.#.#...#.......#..#.#.#...####.##.#......#..#...##.#.##..#...##.#.##..###.#......#.#.......#.#.#.####.###.##...#.....####.#..#..#.##.#....##..#.####....##...##..#...#......#.#.......#.......##..####..#...#.#.#...##..#.#..###..#####........#..####......#..#\n\n#..#.\n#....\n##..#\n..#..\n..###</code></pre></div>\n<p>上の方は画像処理フィルタ，下の方は入力画像を表しています．</p>\n<p>画像処理フィルタの適用規則について，以下の画像の中心のピクセルを処理する場合を例に説明します．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#..#.\n#....\n##..#\n..#..\n..###</code></pre></div>\n<p>ここで，処理したいピクセルを中心とする 3 * 3 の領域を考えます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># . . # .\n#[. . .].\n#[# . .]#\n.[. # .].\n. . # # #</code></pre></div>\n<p>この領域を左上から右下へ順番に読むと<code class=\"language-text\">...#...#.</code>となります．これを<code class=\"language-text\">000100010</code>と解釈して 10 進数になおすと<code class=\"language-text\">34</code>になります．最終的に，処理したいピクセルは，入力されたフィルタ文字列の 34 文字目，つまり<code class=\"language-text\">#</code>に変換されます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">0         10        20        30  34    40        50        60        70\n|         |         |         |   |     |         |         |         |\n..#.#..#####.#.#.#.###.##.....###.##.#..###.####..#####..#....#..#..##..##</code></pre></div>\n<p>この処理を画像全体のピクセルに適用します．</p>\n<p>なお，本問題で扱う画像は無限大の大きさを持つらしいので注意です．入力で与えられる領域外には<code class=\"language-text\">.</code>のピクセルが広がっています．</p>\n<h3>Part 1</h3>\n<p>フィルタを 2 回適用した後の<code class=\"language-text\">#</code>の数を回答します．</p>\n<p>無限の大きさを持つ画像に対してフィルタを適用するわけですが，実際には入力画像の周辺のピクセルだけを計算し，範囲外のピクセルに関しては一様なのでまとめて管理すれば問題ありません．したがって，マップを次のように定義します．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">rusttype<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Point</span> <span class=\"token keyword\">as</span> <span class=\"token class-name\">RPoint</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Point</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">RPoint</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">i32</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Map</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">pub</span> hashset<span class=\"token punctuation\">:</span> <span class=\"token class-name\">HashSet</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Point</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">pub</span> min_x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">pub</span> max_x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">pub</span> min_y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">pub</span> max_y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">pub</span> outside_cell_state<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>範囲外のピクセルの状態は<code class=\"language-text\">outside_cell_state</code>によって一括で保持しています．</p>\n<p>このマップは，フィルタを適用する度に上下左右方向へ 1 ピクセルぶんだけ拡張する必要があります．マップの上部を例に説明します．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">............[範囲外（全て'#'または'.'）]............\n______[フィルタ適用によって新しく拡張される領域]____\n##...#..##..##...#.[マップの上端].##...#...#..##..##</code></pre></div>\n<p>「フィルタ適用によって新しく拡張される領域」にフィルタを適用した結果は一様にならないのがわかると思います．フィルタの下段（3 段目）が既存の領域の情報を参照するからです．その一段上の領域に関してはそのまま一様なので問題ありません．</p>\n<p>というわけで，フィルタを適用する処理は次のように書けます．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">apply_filter</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">Map</span><span class=\"token punctuation\">,</span> filter<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">Filter</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">Self</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> new_map <span class=\"token operator\">=</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span> y <span class=\"token keyword\">in</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>min_y <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">..=</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>max_y <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>min_x <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">..=</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>max_x <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// 各ピクセルに対してフィルタを適用した結果をnew_mapに保持</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// 範囲外のピクセルの状態にフィルタを適用した結果を計算</span>\n    new_map<span class=\"token punctuation\">.</span>outside_cell_state <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>outside_cell_state <span class=\"token punctuation\">{</span>\n        filter<span class=\"token punctuation\">[</span><span class=\"token number\">511</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        filter<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    new_map\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day20-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>フィルタを 50 回適用した後の<code class=\"language-text\">#</code>の数を回答します．Part 1 のアルゴリズムを使用すれば問題なく解けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day20-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[むずかしい] <a href=\"https://adventofcode.com/2021/day/21\" target=\"_blank\" rel=\"noopener\">Day 21: Dirac Dice</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p><strong>ディラックダイス</strong> という特殊なダイスを使ったボードゲームの展開を考える問題です．</p>\n<p>ボードゲームでは，ボード，ポーン，サイコロを使用します．</p>\n<p>ボードにはプレイヤーの止まれる 10 個マス目が円形に配置されており，次のようなものです．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 10の後は1に戻ります\n |---------------------------------------------------------------\n v                                                              |\n[1] -> [2] -> [3] -> [4] -> [5] -> [6] -> [7] -> [8] -> [9] -> [10]</code></pre></div>\n<p>プレイヤーの初期位置は以下のように入力として与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Player 1 starting position: 4\nPlayer 2 starting position: 8</code></pre></div>\n<p>プレイヤーはそれぞれ自分の得点をもちます．ゲーム開始時点では両者 0 点です．</p>\n<p>最初はプレイヤー 1 のターンからはじめます．</p>\n<p>各ターンで，プレイヤーはサイコロを 3 回振ります．出た目の合計だけポーンを進めて，止まった位置の数字だけ自分の得点を増やします．その後ターンを交代します．</p>\n<h3>Part 1</h3>\n<p>以下の条件で，どちらかが勝つまでゲームを進めます． <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>負けたほうのプレイヤーの得点</mtext><mo>×</mo><mtext>サイコロを振った回数</mtext></mrow><annotation encoding=\"application/x-tex\">負けたほうのプレイヤーの得点 \\times サイコロを振った回数</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord cjk_fallback\">負けたほうのプレイヤーの得点</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">サイコロを振った回数</span></span></span></span></span> を回答します．</p>\n<ul>\n<li><strong>決定論的サイコロ</strong> を用います．決定論的サイコロは，1 回目に振ったとき 1 が出て，次に振ったとき 2 が出て，100 回目に振ったとき 100，101 回目に振るとまた 1 が出るようなサイコロです．</li>\n<li>得点が 1000 になったプレイヤーを勝利とします．</li>\n</ul>\n<p>ここでは特に難しいアルゴリズムを考える必要はありません．素直にゲーム内容をコードに落とし込めばよいです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day21-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>以下の条件において，<strong>ゲームのすべての分岐パターンを考慮します．</strong> 勝利するパターンが多いプレイヤーのパターン数を回答します．</p>\n<ul>\n<li><strong>ディラックダイス</strong> を用いてゲームを進行します．ディラックダイスは 3 面サイコロです．振る度に 3 つの可能性に世界が分岐します（そのため， <strong>ゲームのすべての分岐パターンを考慮</strong> する必要がある…という設定です）</li>\n<li>得点が 21 になったプレイヤーを勝利とします．</li>\n</ul>\n<p>つまり，次のようなゲームの分岐をすべて考慮して，プレイヤーそれぞれの勝利パターン数をカウントします．</p>\n<ul>\n<li>プレイヤー 1 がサイコロで 1 を出す\n<ul>\n<li>プレイヤー 1 がサイコロで 1 を出す\n<ul>\n<li>…\n<ul>\n<li>プレイヤー 1 or 2 が勝利</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>プレイヤー 1 がサイコロで 2 を出す\n<ul>\n<li>…\n<ul>\n<li>プレイヤー 1 or 2 が勝利</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>プレイヤー 1 がサイコロで 3 を出す\n<ul>\n<li>…\n<ul>\n<li>プレイヤー 1 or 2 が勝利</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>プレイヤー 1 がサイコロで 2 を出す\n<ul>\n<li>プレイヤー 1 がサイコロで 1 を出す\n<ul>\n<li>…\n<ul>\n<li>プレイヤー 1 or 2 が勝利</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>プレイヤー 1 がサイコロで 2 を出す\n<ul>\n<li>…\n<ul>\n<li>プレイヤー 1 or 2 が勝利</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>プレイヤー 1 がサイコロで 3 を出す\n<ul>\n<li>…\n<ul>\n<li>プレイヤー 1 or 2 が勝利</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>プレイヤー 1 がサイコロで 3 を出す\n<ul>\n<li>プレイヤー 1 がサイコロで 1 を出す\n<ul>\n<li>…\n<ul>\n<li>プレイヤー 1 or 2 が勝利</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>プレイヤー 1 がサイコロで 2 を出す\n<ul>\n<li>…\n<ul>\n<li>プレイヤー 1 or 2 が勝利</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>プレイヤー 1 がサイコロで 3 を出す\n<ul>\n<li>…\n<ul>\n<li>プレイヤー 1 or 2 が勝利</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>分岐は木構造なので，次のような深さ優先探索が使えます．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// (p1 wins, p2 wins)</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Wins</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">u128</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">u128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">PlayerState</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">pub</span> pos<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 1 ~ 10</span>\n    <span class=\"token keyword\">pub</span> score<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">calc_wins</span><span class=\"token punctuation\">(</span>\n    current_player<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PlayerState</span><span class=\"token punctuation\">,</span>\n    next_player<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PlayerState</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Wins</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// プレイヤー1が勝利していたら，return (1, 0);</span>\n    <span class=\"token comment\">// プレイヤー2が勝利していたら，return (0, 1);</span>\n\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> current_wins<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> next_wins<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> dice1 <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span><span class=\"token number\">3</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> dice2 <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span><span class=\"token number\">3</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">for</span> dice3 <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span><span class=\"token number\">3</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// 残りのステップについてcalc_winsを呼び出す</span>\n                <span class=\"token comment\">// その結果をcurrent_winsとnext_winsに加算</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>current_wins<span class=\"token punctuation\">,</span> next_wins<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>一方で，上記の実装では計算量が明らかにヤバそうです．雑に予想すると，各ターンでプレイヤーが平均 5 点を得るとして，21 点貯まるのに 5 回自分のターンが必要で，ゲーム全体では 9 回のターンが必要です．そうなるとサイコロを 27 回くらい振ることになります．</p>\n<p>したがってゲームのパターン数は約 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>3</mn><mn>27</mn></msup><mo>=</mo><mn>7</mn><mo separator=\"true\">,</mo><mn>625</mn><mo separator=\"true\">,</mo><mn>597</mn><mo separator=\"true\">,</mo><mn>484</mn><mo separator=\"true\">,</mo><mn>987</mn></mrow><annotation encoding=\"application/x-tex\">3^{27} = 7,625,597,484,987</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">27</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">7</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">625</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">597</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">484</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">987</span></span></span></span></span> となり，13 桁のオーダーになります．やばい．</p>\n<p>もう少し最適化の余地を考えてみます．すると，各ターンの分岐はサイコロの合計数が同じならば発生しないことがわかります．つまり，あるターンで 1，1，3 が出た場合と 1，3，1 が出た場合では，その後のゲーム進行は全く同じだということです．したがって，先程の処理を次のように変更できます．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// (p1 wins, p2 wins)</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Wins</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">u128</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">u128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">PlayerState</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">pub</span> pos<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 1 ~ 10</span>\n    <span class=\"token keyword\">pub</span> score<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">calc_wins</span><span class=\"token punctuation\">(</span>\n    current_player<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PlayerState</span><span class=\"token punctuation\">,</span>\n    next_player<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PlayerState</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Wins</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// プレイヤー1が勝利していたら，return (1, 0);</span>\n    <span class=\"token comment\">// プレイヤー2が勝利していたら，return (1, 0);</span>\n\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> current_wins<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> next_wins<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>roll<span class=\"token punctuation\">,</span> freq<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 残りのステップについてcalc_winsを呼び出す</span>\n        <span class=\"token comment\">// その結果 * freqを，current_winsとnext_winsに加算</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>current_wins<span class=\"token punctuation\">,</span> next_wins<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>先ほどと同じようにパターン数を見積もってみますと， <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>7</mn><mn>10</mn></msup><mo>=</mo><mn>282</mn><mo separator=\"true\">,</mo><mn>475</mn><mo separator=\"true\">,</mo><mn>249</mn></mrow><annotation encoding=\"application/x-tex\">7^{10} = 282,475,249</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">7</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">10</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">282</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">475</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">249</span></span></span></span></span> となりますので，13 桁 -> 9 桁オーダーへダイエットに成功しました．</p>\n<p>上記の発想を更に一般化すると，<strong>ゲームの状態が決定すれば，そこから先の展開もすべて決定的である</strong> ということに気づきます．</p>\n<p>言い換えれば，calc_wins は純粋関数で，入力が決まれば出力も決まるということです．したがって，この関数の入力と出力のペアをメモしておけば，次回同じ引数で関数を呼び出さずとも出力がわかるという，メモ化による最適化が使えます．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// (p1 wins, p2 wins)</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Wins</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">u128</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">u128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">PlayerState</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">pub</span> pos<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 1 ~ 10</span>\n    <span class=\"token keyword\">pub</span> score<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">GameState</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">PlayerState</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">PlayerState</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">CalcWinsCache</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">GameState</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Wins</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">calc_wins</span><span class=\"token punctuation\">(</span>\n    current_player<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PlayerState</span><span class=\"token punctuation\">,</span>\n    next_player<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PlayerState</span><span class=\"token punctuation\">,</span>\n    cahce<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token class-name\">CalcWinsCache</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Wins</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// キャッシュがあればキャッシュからWinsを返す</span>\n    <span class=\"token comment\">// プレイヤー1が勝利していたら，return (1, 0);</span>\n    <span class=\"token comment\">// プレイヤー2が勝利していたら，return (1, 0);</span>\n\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> current_wins<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> next_wins<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>roll<span class=\"token punctuation\">,</span> freq<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 残りのステップについてcalc_winsを呼び出す</span>\n        <span class=\"token comment\">// その結果 * freqを，current_winsとnext_winsに加算</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// キャッシュに自分の入力と出力をメモする</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>current_wins<span class=\"token punctuation\">,</span> next_wins<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>上記の 2 つの最適化によって，この問題は 200ms くらいで解けます．勝利数を倍の 42 にしても 1 秒くらいで解けてしまいます．57 にしたら u128 をオーバフローして落ちました．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day21-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[むずかしい] <a href=\"https://adventofcode.com/2021/day/22\" target=\"_blank\" rel=\"noopener\">Day 22: Reactor Reboot</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>3 次元空間の各位置にあるスイッチ（問題文では「炉心」と表現されている）をオン / オフする問題です．</p>\n<p>座標が整数の 3 次元空間上に，全て状態がオフのスイッチが並んでいます．次のような操作手順が入力として与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">on x=-5..47,y=-31..22,z=-19..33\non x=-44..5,y=-27..21,z=-14..35\non x=-49..-1,y=-11..42,z=-10..38\non x=-20..34,y=-40..6,z=-44..1\noff x=26..39,y=40..50,z=-2..11\non x=-41..5,y=-41..6,z=-36..8\n...</code></pre></div>\n<p><code class=\"language-text\">on x=-5..47,y=-31..22,z=-19..33</code>は<code class=\"language-text\">x=-5..47,y=-31..22,z=-19..33</code>の範囲のスイッチをすべてオンにすることを示しています．<code class=\"language-text\">off x=26..39,y=40..50,z=-2..11</code>は<code class=\"language-text\">x=26..39,y=40..50,z=-2..11</code>の範囲のスイッチをすべてオフにすることを示しています．</p>\n<h3>Part 1</h3>\n<p>入力の指示を全て実行した場合，<code class=\"language-text\">x=-50..50,y=-50..50,z=-50..50</code>の範囲でオンになっているスイッチの数を回答します．</p>\n<p>扱わなければならない範囲が小さいので，愚直に実装すれば解けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day22-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>入力の指示を全て実行したあとオンになっているスイッチの数を回答します．</p>\n<p>Part 1 と違い，考慮しなければならない範囲が膨大なため効率の良いアルゴリズムを考える必要があります．</p>\n<p>問題を単純化して考えるために，空間が 2 次元であり，操作は”on”だけの場合を想定してみます．すると，“on”という操作は， <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>自身の領域</mtext><mo>−</mo><mtext>既存の領域との共通部分</mtext></mrow><annotation encoding=\"application/x-tex\">自身の領域 - 既存の領域との共通部分</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord cjk_fallback\">自身の領域</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">既存の領域との共通部分</span></span></span></span></span> の数だけスイッチをオンにしていることがわかります．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  ↓既存の領域A\n+-----------+\n|       +---+-------+\n|   +---+---+---+   |\n|   |(a)|(b)|(c)|   |\n*---+---+---+   |   |\n    |   +-------+---+\n    |    (d)    | ↑既存の領域B\n    +-----------+\n        ↑新しくonする領域\n\n「(d) = 新しくonする領域 - (a) - (b) - (c)」の数だけスイッチをオンしている</code></pre></div>\n<p>したがって， <strong>既存の領域の OR 部分</strong> と <strong>新しく on する領域</strong> の AND 部分の面積が知れれば良いわけです．</p>\n<p>まず，2 つの領域の場合，AND 部分の矩形は簡単に求まります．2 つの領域をそれぞれ <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><msub><mi>b</mi><mrow><mn>11</mn><mi>x</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mrow><mn>11</mn><mi>y</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><msub><mi>b</mi><mrow><mn>12</mn><mi>x</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mrow><mn>12</mn><mi>y</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">b_1 = ((b_{11x}, b_{11y}), (b_{12x}, b_{12y}))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">((</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">))</span></span></span></span></span> ， <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><msub><mi>b</mi><mrow><mn>21</mn><mi>x</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mrow><mn>21</mn><mi>y</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><msub><mi>b</mi><mrow><mn>22</mn><mi>x</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mrow><mn>22</mn><mi>y</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">b_2 = ((b_{21x}, b_{21y}), (b_{22x}, b_{22y}))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">((</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">21</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">21</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">22</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">22</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">))</span></span></span></span></span> とすると，AND 部分は，</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><msub><mi>b</mi><mrow><mn>11</mn><mi>x</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mrow><mn>21</mn><mi>x</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><msub><mi>b</mi><mrow><mn>11</mn><mi>y</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mrow><mn>21</mn><mi>y</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><msub><mi>b</mi><mrow><mn>12</mn><mi>x</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mrow><mn>22</mn><mi>x</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><msub><mi>b</mi><mrow><mn>12</mn><mi>y</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mrow><mn>22</mn><mi>y</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">((max(b_{11x}, b_{21x}), max(b_{11y}, b_{21y})), (min(b_{12x}, b_{22x}), min(b_{12y}, b_{22y})))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">((</span><span class=\"mord mathnormal\">ma</span><span class=\"mord mathnormal\">x</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">21</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">ma</span><span class=\"mord mathnormal\">x</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">21</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">))</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">min</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">22</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">min</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">22</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)))</span></span></span></span></span></div>\n<p>となります．</p>\n<p>次に，「 <strong>複数の領域の OR 部分</strong> と <strong>単一領域</strong> の AND 部分」の面積を求める方法を考えます．結論から言ってしまうと，次のようなコードで実現できます．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">AND</span>領域の面積を計算<span class=\"token punctuation\">(</span>複数領域<span class=\"token punctuation\">,</span> 単一領域<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">i32</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> 面積 <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>複数領域要素<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> 複数領域 <span class=\"token punctuation\">{</span>\n        面積 <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>単一領域 <span class=\"token operator\">&amp;</span> 複数領域要素<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>面積\n                <span class=\"token operator\">-</span> <span class=\"token constant\">AND</span>領域の面積を計算<span class=\"token punctuation\">(</span>複数領域<span class=\"token punctuation\">[</span>index<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>単一領域 <span class=\"token operator\">&amp;</span> 複数領域要素<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> 面積\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>このコードの動作を先程の図で説明します．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  ↓既存の領域A\n+-----------+\n|       +---+-------+\n|   +---+---+---+   |\n|   |(a)|(b)|(c)|   |\n*---+---+---+   |   |\n    |   +-------+---+\n    |    (d)    | ↑既存の領域B\n    +-----------+\n        ↑新しくonする領域\n\n「(d) = 新しくonする領域 - (a) - (b) - (c)」の数だけスイッチをオンしている</code></pre></div>\n<p>まず，<code class=\"language-text\">複数領域要素</code>に<code class=\"language-text\">既存の領域A</code>が来た場合，<code class=\"language-text\">面積</code>には<code class=\"language-text\">既存の領域A &amp; 新しくonする領域 - ((既存の領域A &amp; 新しくonする領域) &amp; 既存の領域B) = (a)</code>の面積が加算されます．</p>\n<p>次に，<code class=\"language-text\">複数領域要素</code>に<code class=\"language-text\">既存の領域B</code>が来た場合，<code class=\"language-text\">面積</code>には<code class=\"language-text\">新しくonする領域 &amp; 既存の領域 = (b) + (c)</code>の面積が加算されます．しっかりと AND 領域の面積を計算できています．</p>\n<p>以上により”on”操作に関しては実装できそうです．次に”off”操作に関して考えていきますが，これまた結論からいいますと以下のようなコードでうまく行きます．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> 面積 <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> 既存領域の集合 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>モード<span class=\"token punctuation\">,</span> 領域<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> 入力指示<span class=\"token punctuation\">.</span>逆<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> モード <span class=\"token operator\">==</span> <span class=\"token string\">\"on\"</span> <span class=\"token punctuation\">{</span>\n        aria <span class=\"token operator\">+=</span> 領域<span class=\"token punctuation\">.</span>面積<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token constant\">AND</span>領域の面積を計算<span class=\"token punctuation\">(</span>既存領域の集合<span class=\"token punctuation\">,</span> 領域<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    既存領域の集合<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>領域<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><em>「なんで指示を逆に実行してんねん」</em> や <em>「off の時面積いじらないんかい」</em> などと思われるかもしれません．私なりに理解した結果「“ボタンを off にする”という操作の結果引かれるべき面積を，それ以前の on 操作の処理に引かせている」のだと思いました．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">指示1: 領域1をon  // 既存領域に領域3が含まれているので，その領域を自身から除外した部分を面積に足す\n指示2: 領域2をon  // 既存領域に領域3が含まれているので，その領域を自身から除外した部分を面積に足す\n指示3: 領域3をoff // 面積はいじらないが，既存領域に自身を追加する\n指示4: 領域4をon  // ↑に実行していく</code></pre></div>\n<p>以上，上記の処理を 3 次元に拡張すれば問題が解けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day22-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[むずかしい] <a href=\"https://adventofcode.com/2021/day/23\" target=\"_blank\" rel=\"noopener\">Day 23: Amphipod</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>端脚類（以降”アイテム”）を正しい部屋に移動させる問題です．</p>\n<p>次のようなマップとアイテムの初期状態が与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#############\n#...........#\n###B#C#B#D###\n  #A#D#C#A#\n  #########</code></pre></div>\n<p>アイテムはマップ内を以下の条件を守って自由に移動できます．</p>\n<ul>\n<li>あるアイテムが部屋の入口の廊下にとどまったままで，他のアイテムは移動できません</li>\n<li>別のアイテムが既に入っている部屋には入れません</li>\n</ul>\n<p>マップの見方は以下のとおりです．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'#'は壁，'.'はそこに何もないことを表す\n'v'の廊下の位置にはアイテムはとどまれない\n\n   v v v v\n#############\n#...........#  &lt;廊下\n###B#C#B#D###  &lt;部屋1\n  #A#D#C#A#    &lt;部屋2\n  #########\n\nゴール（整列）状態\n#############\n#...........#\n###A#B#C#D###\n  #A#B#C#D#\n  #########</code></pre></div>\n<p>各アイテムは 1 つの位置を動くたびに次のエネルギーを消費します．</p>\n<ul>\n<li>A: 1</li>\n<li>B: 10</li>\n<li>C: 100</li>\n<li>D: 1000</li>\n</ul>\n<h3>Part 1</h3>\n<p>アイテムを整列させるために必要な最小エネルギーを回答します．</p>\n<p>基本的には各マップの状態をノードとして，DFS や BFS を実行すれば解けます．</p>\n<p>しかし，素直に全ての状態を探索すると時間がかかりそうです．アイテムがとどまれる場所は 15 箇所ありますので，可能な盤面は <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>15</mn><mo>∗</mo><mn>14</mn><mo>∗</mo><mn>13</mn><mo>∗</mo><mn>12</mn><mo>∗</mo><mn>11</mn><mo>∗</mo><mn>10</mn><mo>∗</mo><mn>9</mn><mo>∗</mo><mn>8</mn><mo>÷</mo><msup><mn>2</mn><mn>4</mn></msup><mo>=</mo><mn>16</mn><mo separator=\"true\">,</mo><mn>216</mn><mo separator=\"true\">,</mo><mn>200</mn></mrow><annotation encoding=\"application/x-tex\">15*14*13*12*11*10*9*8 \\div 2^4 = 16,216,200</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">15</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">14</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">13</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">12</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">11</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">10</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">9</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">216</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">200</span></span></span></span></span> パターンということになります．ちょっと多くてイヤですね．</p>\n<p>今回は以下のような枝切りによって探索時間の短縮を図ります．あるマップの状態から，次に探索すべき状態を生成する<code class=\"language-text\">get_next_maps</code>関数を考えます．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_next_maps</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 正しい位置に入れられるitemがあればいれる</span>\n    <span class=\"token comment\">// →正しい位置に入れられるアイテムがあるのにそれを無視するような不要な操作を枝切り</span>\n    <span class=\"token keyword\">for</span> アイテム <span class=\"token keyword\">in</span> 廊下 <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> アイテムを正しい部屋に入れられる <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>アイテムを入れた状態の<span class=\"token class-name\">Map</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// 取り出せるitemがあればあらゆる位置に取り出す</span>\n    <span class=\"token comment\">// →正しい位置に入れられるアイテムがない</span>\n    <span class=\"token comment\">// →したがって，部屋からいずれかのアイテムを取り出して状況を変えるしか無い</span>\n    <span class=\"token comment\">// →逆に言えば，そのような状況でアイテムを部屋から取り出さないような不要な操作を枝切り</span>\n    <span class=\"token keyword\">let</span> 次の<span class=\"token class-name\">Map</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> アイテム <span class=\"token keyword\">in</span> 各部屋の移動できるアイテム <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> 取り出し場所 <span class=\"token keyword\">in</span> アイテムを取り出し可能な廊下の位置 <span class=\"token punctuation\">{</span>\n            次の<span class=\"token class-name\">Map</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>アイテムを取り出し場所に取り出したマップ<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> 次の<span class=\"token class-name\">Map</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>以上の仕組みを実装することで，現実的な時間内で問題が解けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day23-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>部屋の深さが 2 倍の 4 になります．Part 1 のアルゴリズムによって問題なく解けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day23-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[むずかしい！] <a href=\"https://adventofcode.com/2021/day/24\" target=\"_blank\" rel=\"noopener\">Day 24: Arithmetic Logic Unit</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>独自の処理系上で動作するモデル番号検証プログラムがあります．そのプログラムが受け付けるモデル番号を探索する問題です．</p>\n<p>潜水艦の ALU：arithmetic logic unit が壊れました．そのため，この ALU の代わりとなるものを作成しなければなりません．また，代わりの ALU を潜水艦に設置する際，ALU 上でモデル番号の検証プログラムが実行され，検証に成功しないと ALU は起動しません．有効なモデル番号を見つける必要があります．</p>\n<p>モデル番号は 14 桁の数値です．各桁は 1〜9 です．0 は現れません．</p>\n<p>ALU の仕様は以下のとおりです．</p>\n<ul>\n<li>4 つのレジスタを持っています\n<ul>\n<li><code class=\"language-text\">x</code>，<code class=\"language-text\">y</code>，<code class=\"language-text\">z</code>，<code class=\"language-text\">w</code>のレジスタがあります</li>\n<li>レジスタは整数を保持します</li>\n<li>プログラム開始前に，レジスタは 0 に初期化されます．</li>\n</ul>\n</li>\n<li>入力メモリをもちます．複数の整数を保持する配列のようなものです．</li>\n<li>次の命令を解釈できます\n<ul>\n<li><code class=\"language-text\">imp a</code>：入力メモリを 1 つ消費して，値を<code class=\"language-text\">a</code>に読み込みます．</li>\n<li><code class=\"language-text\">add a b</code>：<code class=\"language-text\">a</code>と<code class=\"language-text\">b</code>の和を<code class=\"language-text\">a</code>にセットします</li>\n<li><code class=\"language-text\">mul a b</code>：<code class=\"language-text\">a</code>と<code class=\"language-text\">b</code>の積を<code class=\"language-text\">a</code>にセットします</li>\n<li><code class=\"language-text\">div a b</code>：<code class=\"language-text\">a</code>と<code class=\"language-text\">b</code>の商を<code class=\"language-text\">a</code>にセットします</li>\n<li><code class=\"language-text\">mod a b</code>：<code class=\"language-text\">a</code>と<code class=\"language-text\">b</code>の剰余を<code class=\"language-text\">a</code>にセットします</li>\n<li><code class=\"language-text\">eql a b</code>：<code class=\"language-text\">a</code>と<code class=\"language-text\">b</code>が等しい場合は 1 を，等しくない場合は 0 を<code class=\"language-text\">a</code>にセットします</li>\n</ul>\n</li>\n<li>ジャンプ命令はありません</li>\n</ul>\n<p>MONAD：MOdel Number Automatic Detector program（モデル番号検証プログラム）が次のような入力として与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">inp w\nmul x 0\nadd x z\nmod x 26\ndiv z 1\nadd x 11\neql x w\neql x 0\nmul y 0\n...</code></pre></div>\n<p>MONAD は<code class=\"language-text\">inp</code>命令によってモデル番号の各桁を左から読み取ります．例えば，モデル番号が<code class=\"language-text\">1234...</code>の場合，最初の<code class=\"language-text\">imp a</code>命令は<code class=\"language-text\">1</code>を<code class=\"language-text\">a</code>にセットします．次の<code class=\"language-text\">imp a</code>命令は<code class=\"language-text\">2</code>を<code class=\"language-text\">a</code>にセットします．</p>\n<p>有効なモデル番号に対して MONAD のすべてのステップを実行すると z は 0 になります．無効なモデル番号に対して実行すると z は 0 以外になります．</p>\n<h3>Part 1</h3>\n<p>MONAD が受け付ける最大のモデル番号を回答します．</p>\n<p>はじめに MONAD の挙動を観察して作戦を立ててから実装に入っていきたいと思います．</p>\n<h4>観察</h4>\n<p>なにはともあれ MONAD を Rust で実装してみたいと思います．MONAD のアルゴリズムで最終的な z を計算する関数を<code class=\"language-text\">orig_calc_z</code>としました．名前がひどいのは許してください．</p>\n<p>次のように関数を宣言して，</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">orig_calc_z</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">Id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">i128</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> input_index<span class=\"token punctuation\">:</span> <span class=\"token keyword\">usize</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> z<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> w<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>おもむろに MONAD のコードをコメントとして貼り付けます．</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 318px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2f41cd630890d7530cd62f13df8f2ef3/55edb/monad1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 114.77987421383648%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'459\\'%20viewBox=\\'0%200%20400%20459\\'%20preserveAspectRatio=\\'none\\'%3e%3cpath%20d=\\'M0%20229v230h401V0H0v229M368%2024v13h9V10h-9v14\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2f41cd630890d7530cd62f13df8f2ef3/df9d5/monad1.webp 318w\"\n              sizes=\"(max-width: 318px) 100vw, 318px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2f41cd630890d7530cd62f13df8f2ef3/55edb/monad1.png 318w\"\n            sizes=\"(max-width: 318px) 100vw, 318px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2f41cd630890d7530cd62f13df8f2ef3/55edb/monad1.png\"\n            alt=\"MONADの実装過程1\"\n            title=\"MONADの実装過程1\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ここで，<code class=\"language-text\">// add </code>をマルチカーソルで選択して…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 322px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/59fd27b4c6faaef9710359d5848d17ab/990f1/monad2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 250.31055900621118%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'1001\\'%20viewBox=\\'0%200%20400%201001\\'%20preserveAspectRatio=\\'none\\'%3e%3cpath%20d=\\'M0%20501v500h401V0H0v501m119-247c-1%206%200%2024%202%2025l1-3c0-5%204-9%206-6l2%201-1-3c-2-2-2-2%200-4l1-3-3%201c-2%203-5-1-5-6%200-6-2-7-3-2m0%2082c-1%206%200%2024%202%2025l1-3c0-5%204-9%206-6l2%201-1-3c-2-2-2-2%200-4l1-3-3%201c-2%203-5-1-5-6%200-6-2-7-3-2m0%20109c-1%205%200%2024%202%2025l1-2%202-2c2%200%206-9%206-12%200-2-2-1-3%202l-1%203-2-4-2-8c0-4-2-5-3-2m0%2055c-1%206%200%2024%202%2025l1-2%202-2%206-13c-1-1-1%200-2%202l-2%203c-1%200-4-8-4-12%200-5-2-5-3-1m1%2082a336%20336%200%20002%2050l2-2c2%200%206-9%206-12%200-2-2-1-3%202l-1%203-2-4c-2-6-3-16%200-16l6-13c-1-1-1%200-2%202l-2%203c-1%200-4-8-4-12%200-5-2-5-2-1m-1%2082c-1%206%200%2024%202%2025l1-4c0-3%201-4%205-4%203-1%203-1%201-1h-3l2-4c4-5%204-5-1-5h-4v-5c0-6-2-7-3-2m0%2082c-1%206%200%2024%202%2025l1-3c0-5%204-9%206-6l2%201-1-3c-2-2-2-2%200-4l1-3-3%201c-2%203-5-1-5-6%200-6-2-7-3-2m0%2082c-1%206%200%2024%202%2025l1-3c0-5%204-9%206-6l2%201-1-3c-2-2-2-2%200-4l1-3-3%201c-2%203-5-1-5-6%200-6-2-7-3-2m0%20109c-1%205%200%2024%202%2025l1-2%202-2c2%200%206-9%206-12%200-2-2-1-3%202l-1%202c-1%200-4-8-4-11%200-4-2-5-3-2\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/59fd27b4c6faaef9710359d5848d17ab/5e4db/monad2.webp 322w\"\n              sizes=\"(max-width: 322px) 100vw, 322px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/59fd27b4c6faaef9710359d5848d17ab/990f1/monad2.png 322w\"\n            sizes=\"(max-width: 322px) 100vw, 322px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/59fd27b4c6faaef9710359d5848d17ab/990f1/monad2.png\"\n            alt=\"MONADの実装過程2\"\n            title=\"MONADの実装過程2\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>コピペを駆使すれば…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 319px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/63db6781f8ef023dfb8b89b9fe721bcf/5fb59/monad3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 232.91536050156742%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'932\\'%20viewBox=\\'0%200%20400%20932\\'%20preserveAspectRatio=\\'none\\'%3e%3cpath%20d=\\'M0%20466v466h401V0H0v466M375%2028v13h9V15h-9v13M153%20263c-2%201-1%2027%201%2027l1-2%204-9%203-8c-1-1-2%201-4%205l-3%207v-10c0-9-1-12-2-10m9%2096c0%2012%200%2014%202%2014l1-2%201-4c2-1%207-14%206-14l-4%206-3%207v-11l-1-10c-2%200-2%202-2%2014m0%20111c0%2011%200%2013%202%2013l1-2%204-9%203-8c-1-1-2%201-4%205l-3%207v-10l-1-10c-2%200-2%202-2%2014m-10%2055c0%2012%202%2017%203%2011l4-9%203-8c-1-1-5%206-6%2011-1%201-1-3-1-9%200-8%200-10-2-10l-1%2014m1%2069a322%20322%200%20002%2052l1-3%202-4a2425%202425%200%2001-1-1l-2%204v-12c0-12%200-12%204-20l3-8c-1-1-2%201-4%205l-3%207v-10c0-9-1-12-2-10m-1%2096c0%2012%200%2014%202%2014l1-2%201-4c2-1%207-14%206-14l-4%206-3%207v-11l-1-10c-2%200-2%202-2%2014m0%2083c0%2012%200%2014%202%2014l1-3%202-5%203-6%202-5v-1c-1-1-4%204-6%2010-1%202-1%200-1-8l-1-10c-2%200-2%202-2%2014m10%2083c0%208%201%2013%202%2013l1-2%202-5%203-6%202-5v-1c-1-1-4%206-6%2011-1%201-1-3-1-9%200-8%200-10-2-10l-1%2014\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/63db6781f8ef023dfb8b89b9fe721bcf/a930a/monad3.webp 319w\"\n              sizes=\"(max-width: 319px) 100vw, 319px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/63db6781f8ef023dfb8b89b9fe721bcf/5fb59/monad3.png 319w\"\n            sizes=\"(max-width: 319px) 100vw, 319px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/63db6781f8ef023dfb8b89b9fe721bcf/5fb59/monad3.png\"\n            alt=\"MONADの実装過程3\"\n            title=\"MONADの実装過程3\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><code class=\"language-text\">add</code>命令の実装完了です！他の命令に関しても同様に実装していき，MONAD が動くようになりました．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">orig_calc_z</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">Id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">i128</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> input_index<span class=\"token punctuation\">:</span> <span class=\"token keyword\">usize</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> z<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> w<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i128</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    w <span class=\"token operator\">=</span> input<span class=\"token punctuation\">[</span>input_index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//inp w</span>\n    x <span class=\"token operator\">*=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//mul x 0</span>\n    x <span class=\"token operator\">+=</span> z<span class=\"token punctuation\">;</span> <span class=\"token comment\">//add x z</span>\n    x <span class=\"token operator\">%=</span> <span class=\"token number\">26</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//mod x 26</span>\n    z <span class=\"token operator\">/=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//div z 1</span>\n    x <span class=\"token operator\">+=</span> <span class=\"token number\">11</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//add x 11</span>\n    x <span class=\"token operator\">=</span> <span class=\"token function\">eql</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> w<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//eql x w</span>\n    x <span class=\"token operator\">=</span> <span class=\"token function\">eql</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//eql x 0</span>\n    y <span class=\"token operator\">*=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//mul y 0</span>\n    <span class=\"token punctuation\">...</span></code></pre></div>\n<p>手始めに，これを使って全域探索してみました．<code class=\"language-text\">99999999999999</code>からモデル番号をデクリメントしつつ探索したのですが，運良くヒットする…ということはありませんでした．やはりパターン数が多すぎます．</p>\n<p>より効率的に探索するためには，MONAD の処理に関してさらに理解する必要がありそうです．そこで，いったん MONAD を自分なりの数式に落とし込んで再実装してみることにしました．また，処理を数式で表すことで，あわよくば解を代数的に求められないかな〜という思惑もありました．これは失敗でしたが．</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/efea460c04a2b22b998c13a63e8b6713/0a56d/monad_memo.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.07692307692308%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'300\\'%20viewBox=\\'0%200%20400%20300\\'%20preserveAspectRatio=\\'none\\'%3e%3cpath%20d=\\'M17%201H8L0%202l12%201c11%200%2012%200%2012%202s1%202%205%202c6%200%209%201%207%202-3%201-1%203%203%202h4l-3%202-3%203c0%202-1%203-11%203l-10-1-2-2h1c4%200%204%200%203-1l-3-2-1-1c0-2-2-1-3%202l-2%204c0%201-1%202-4%202h23l28%201-6%201h-3c1%201%201%201-1%201s-3%200-2-1l-2-1-2%201c1%201%200%202-1%203-3%203-2%204%202%204%202%200%202%200%201-1v-2c1-2%202-1%202%201s1%202%206%202l7%201-5%201c-5%200-8%202-3%202l8-1v1l-5%202-4%201h-3l-2-1h6l-3-1-5-1h-2c-1-2-3%200-3%203-1%204%201%204%202%200l1-2v2c0%202%200%203%209%203h10l-1%201c-1%200-1%201%201%201%201%201%201%201-2%201-5%200-5%202-1%202%203%201%202%201-1%201l-7%201h-5c-2%200-2%200%200-2l3-2-3-1h-4v1c3%200%202%202%200%202l-2%202-4%201-10%201c-6%200-6%200-6-2l-1-3c-2%200-2%201-2%204l-1%201-2-2-1-2-1%203c0%203%200%203%204%202l23-1h19v8h-8l-8-1%201-1c4%201%205-1%201-3-3-1-5%200-5%204v3l12-1h11l2%203c1%205%200%205-11%206-10%200-10%200-9-5%200-2%200-2-2%200s-3%203-2%205c0%202%201%202%2012%202h13l-1%202v4c-1%202-5%203-15%203-6%200-6%200-6-2l-3-1-3%201c0%203-1%203-9%204H14c-2%201-2%201-2-1l-1-3-1%203-1%202c-2%200-2-1-2-4s0-3-1-2l-1%204-1%202-2%201h4a410%20410%200%200138-2l13-1c3%200%203%200%203%202l-2%205-1%203c-1%200-1%201%201%201%202%202%202%209%200%2010v2l1%205v5H38l1-1c3-1%200-4-3-4s-5%201-6%205c-1%201-2%202-12%203l-10-1%201-1c1%200%202-3%201-4-1-2-6%200-6%201l1%202v3l-1%203-1%201-1%202%201%201c2-1%201%201-1%203s-1%202%202%202c3-1%205-6%202-6v-3c1-1%203-2%2010-2a277%20277%200%200036-2l6-1v6l-1%205v2l1%206c0%205%200%205-3%205l-2%201%203%201%201%202v4c0%205%200%205-13%207l-10%201-2-2c-1-1%200-2%201-2l2-1-2-1c-2%201-3-1%200-2v-1c-1-1-6%204-4%205v4l-13%201%2027-1c15-2%2014-2%2014%205l-2%206c-2%200-2%202%200%202l1%201-1%201v5c0%204-1%205-2%206l-1%201c2%200%202%201%202%206%200%208%201%207-10%208a1511%201511%200%2000-38%206%20400%20400%200%200146-2c1%207%200%2011-2%2011s-2%200-1%201c2%201%202%2014%200%2015v2l1%204v11l-12%201a707%20707%200%2000-11%203c22-2%2025-2%2022%200l-1%203c0%2012%201%2010-16%2013l-19%202-5%201h6l18-2c12-1%2018-1%2015%201l-3%204c-1%202-1%203-2%202l-2%201-1%202-1-4c0-3%200-4-2-4s-2%201-2%204l-1%204-1%203-2%202-4%201-2-1%203-2h2l-2-2-7-1c-4%200-4%200-4%203s0%203-4%203c-3%200-4%200-4%202l-4%201H0v19h27c25%200%2026%200%2026-2s2-3%2022-3h12l-4%203c0%202%201%202%2059%202%2057%200%2058%200%2058-2l-1-2c-3%200-3-8%200-8%201-1%200-1-1-1h-3l3-2%207-1c2%200%203%200%202-1l-4-1h-7c-1-1-1-1%201-1%204%200%204-1%200-5l-3-4-1-1c-1-1%201-1%203-1%205%200%204-2-1-2-3%200-3%200%201-1%2011-2%2013-3%204-2l-8-1-4-4-3-3%203-2%203-1h-4l-3-1-4-1h-3l4-1a215%20215%200%200127-3h-30v-4l-1-5-1%202c0%202-1%203-3%200-5-4-20-3-26%203-3%203-4%204-7%204h-4l4%201c3%201-10%203-35%205h11l21%201-3%201-1%204c0%203%200%204-2%204s-2-1-2-4%200-4-1-3c0%202-6%208-7%208l-1-2h-1v2c2%201%200%202-4%202l-3%201c0%202-7%204-12%204s-6%200-5%201l5%201c4%200%205%202%201%202l-2%201%202%202%202%202-3%202-5%204-3%202h5l5%201h-6l-35%204h-8v-17a290%20290%200%20012-31%201064%201064%200%20017-85%202234%202234%200%20006-39l3-1h-6v-7a1389%201389%200%20009-101c0-4%200-4-8-8l-7-5H39L17%201m223%200l14%201c10%200%2014%200%2013%201h-3l-9%201h-7l6%201%209%201h4l-9%201-10%201c0%201%203%202%2015%202%2016%201%2029%203%2021%203l-4%201-16%202h-16l9%201%2018%201c9%200%2012%201%208%202l-7%201-4%201%206%201%205%201h-20c-21%200-23%200-8%202%209%200%2010%200%209%202l-1%202-1%203c0%202%203%203%204%201%200-2%202-3%202-1l2%201%202%201h2c2-1%203-7%200-7l-1%201v3c-1%202-1%202-3-2l-3-4h6c6%200%208%201%205%202-1%201-1%201%201%203s2%203-1%202l-1%201c0%202%203%203%204%201l2-1%201%201-1%201c-2%200-2%200-1%203v3c-1%201-5-1-5-4%200-2-2-1-3%202l-2%202-2%201c-1%201%201%201%204%201h12l-3%201c-4%202-4%203-1%203%202%200%203%200%203%202s0%202-2%202-3-1-3-2l-1-2-2%202c-1%202-2%202-41%202a877%20877%200%200046%203l2%203v2c-3%202-2%203%201%203l2-1h2c2%202%202%201%203-2%201-2%201-2-1-2l-2-1-2-1-3-1a384%20384%200%200148%201l-9%201c-5%200-6%200-5%202v3c-1%201-1%201%204%201h9c5%200%205%201%204%202l-2%204h-1v-5l-3%201v3c0%204%202%206%205%204%201-1%201-1%201%201h1c1-2%208-2%2012%200l4%201h8l-1%201v1c0%202-5%203-8%202l-3%201-6%201h-6v-3c-1-3-1-3-3-2-1%202-1%202-2%201-1-2-2%200-1%202%201%203%201%203-3%203-5%200-6-1-7-3h-1c-2%204-1%205%208%204l28-1c6-1%207-1%208%202l2%204h-6v-1l1-1h-3l-3-1-1-1c-1%200-2%201-1%202l-1%201v1l1%201c1-1%204%200%204%202h2c1-1%2010%202%2010%203l-3%201-2%202h3c1%200%202%200%201%201-1%200-1%202%201%204%201%202%201%202%203%201h5c2%201%202%201-1%202h-3l5%202c11%202%2013%203%2010%203-5%200-3%202%201%202%203%200%204%200%204%202l3%204%203%202-8%201c-11%202-11%203%200%203%209%200%2010-1%2010-2a9829%209829%200%20000-116V0h-80l-80%201M91%2019l3%202%202%202%205%201%204-1c-1-1%201-1%205-1l6%201c1%202%2012%200%2012-1l2-1v1c-1%201-2%202-1%203%200%202%202%203%202%201l4-1c6%200%209-1%209-5v-2l-1%202-1%203-1-3c0-2-1-2-1-1v2l-1%202-2-1c1-4-7-6-9-2%200%201-4%202-4%200l2-1c2%200%202%200%200-1h-24l1%201%201%201c0%202-1%202-2%201-2%200-2-1-2-2%200-2-1-2-4-2-4%200-5%200-5%202m215%2016l-2%202c0%202%200%202-2%201-3-2-14-3-14-1l4%201%205%201h-5c-5%201-5%200-5-2%201-1%200-2-1-2v5c1%202%2019%203%2019%201-1-2%200-2%203-2s4%200%203%202l1%201%201-4c0-3-2-4-7-3m-10%209c-7%201-8%202-8%203%200%202%201%202%204%202h5l-5%201c-3%201-1%201%207%201s10-1%2010-2l1-1%203-1%201%201c-1%201%200%202%201%202s2-1%202-3-1-3-2-2h-1c-1-2-7-2-18-1m50%2062l-2%203c-4%200-4%202-1%202l4-2c1-3%203-3%203%200s0%203-10%203h-9c-2-3-3-2-3%200%201%202%201%202%207%202l20-1%2010-1c10-1%2013-2%2010-4h-2l-18%203c-3%200-3%200-3-3s0-3-3-3-4%200-3%201m-62%2015l-4%202-7%201c-1%201-1%201%202%201%203-1%208%201%206%201-4%201-9%201-10-1%200-2-1-2-6-1l-5-1-1-1c-1%200-2%201-1%202l-1%201v2l2%201%202-1c-1-1%200-1%202-1%203%200%203%200%201%201-4%201-2%202%203%202a296%20296%200%200117-2c-3-2-2-3%201-2l3-1c0-1%200-2-1-1l-1-1-1-2-1%201m-35%203l-4%202-13%202-8%201-10%201h18l2%201%202-1c-2-3%208-2%2010%200s2%202%201%200c0-3%200-3%203-2h5v-1c1-3-4-5-6-3m23%2028c-1%202-21%202-21%201s-4-1-4%201l1%201%201%202c-1%202%200%203%205%202h11c1-1%202-2%203-1l3-1%202-2v2c-1%201%200%201%202%201l4-1%202-1%201-1%202-1%201-1-2-1c-5%202-7%202-7%201%200-2-4-3-4-1m-35%202c0%201-11%202-13%201h-3c-2%200-2%200-1%202%201%201%202%202%201%203l1%202%201-1c0-2%203-4%204-3h2l3-1h10c3%201%202%202%200%202l-14%203%203%201%2010-2%207-1-2-2-1-2v-2h-8m78%2013c-1%201%200%201%201%201%203%200%205%205%202%207-4%204-5%205-1%209l4%205c0%202-2%204-3%202l-2-1c-1%201-3-4-3-6h-2v2l1%204v2c1%202%202%202%205%201%203%200%203%200%202%203v3l2-3c2-3%204-3%209-4%208%200%208-1%200-1-7%200-7%200-7-2l-3-6c-4-3-4-3-2-4l4-1%202-1-2-1-1-3c0-5-5-9-6-6m33%2028c-1%206%201%2011%204%2010s4%201%208%2013a302%20302%200%20009%2024v4l1-1c1-1%201-1%201%202l2%205c1%202%202%204%200%208%200%202%200%202%202%202%201%200%202%201%202%203v2c2%200%206%2013%206%2014-1%200-2-1-2-3-2-4-3-4-2%200v6c0%202%200%203%203%202%203%200%205%203%203%205l-1%205c0%204%200%204%202%202%201-2%201-2%201%200s0%202%207%202h6v-18h-3l-7%201c-3%201-3%201-2-1%200-2%200-2-1-1l-1%201-2-6-2-6-1-5v-3l-1-2-1-2c0-3-2-5-2-3v-1c0-3-1-7-2-5v-2c0-3%200-3-1-1l-1-3c0-10%200-11-2-10l-1-1-4-7h-2l-1-4h1v-3l-2-6c-3-3-5-8-4-8%202%200%202-1%202-4%200-2%200-3-1-2l-1%203c0%204-3%201-3-4l-1-2v-2c1-1%200-1-2-1-4%200-4%201-4%203\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/efea460c04a2b22b998c13a63e8b6713/92d89/monad_memo.webp 325w,\n/static/efea460c04a2b22b998c13a63e8b6713/8ea29/monad_memo.webp 650w,\n/static/efea460c04a2b22b998c13a63e8b6713/070ef/monad_memo.webp 1087w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/efea460c04a2b22b998c13a63e8b6713/b9e16/monad_memo.jpg 325w,\n/static/efea460c04a2b22b998c13a63e8b6713/ced87/monad_memo.jpg 650w,\n/static/efea460c04a2b22b998c13a63e8b6713/0a56d/monad_memo.jpg 1087w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/efea460c04a2b22b998c13a63e8b6713/ced87/monad_memo.jpg\"\n            alt=\"MONADの処理を理解するためのメモ\"\n            title=\"MONADの処理を理解するためのメモ\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>数式化によって一定の法則が見えまして，次のような独自の MONAD を作ることができました．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">calc_z</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">Id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">i128</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> <span class=\"token class-name\">A</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token class-name\">B</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">13</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token class-name\">C</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> z <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token constant\">INPUT_DIGITS_NUM</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span><span class=\"token constant\">INPUT_DIGITS_NUM</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> prev_z <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> z<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>prev_z <span class=\"token operator\">%</span> <span class=\"token number\">26</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">B</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> input<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        z<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>prev_z <span class=\"token operator\">/</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">if</span> x <span class=\"token punctuation\">{</span> <span class=\"token number\">26</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">if</span> x <span class=\"token punctuation\">{</span> input<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">C</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    z<span class=\"token punctuation\">[</span><span class=\"token number\">13</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token attribute attr-name\">#[cfg(test)]</span>\n<span class=\"token keyword\">mod</span> <span class=\"token module-declaration namespace\">tests</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">use</span> <span class=\"token keyword\">crate</span><span class=\"token punctuation\">::</span><span class=\"token punctuation\">{</span>calc_z<span class=\"token punctuation\">,</span> int2id<span class=\"token punctuation\">,</span> orig_calc_z<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token attribute attr-name\">#[test]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">test_calc_z</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> num <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span><span class=\"token number\">10000</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">let</span> input <span class=\"token operator\">=</span> <span class=\"token function\">int2id</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token macro property\">assert_eq!</span><span class=\"token punctuation\">(</span><span class=\"token function\">orig_calc_z</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">calc_z</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{:?}\"</span><span class=\"token punctuation\">,</span> input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            num <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">9</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">u128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>テストも書きました，10000 個のモデル番号に対する計算結果が，オリジナルの MONAD と独自の MONAD で一致することも確かめました．</p>\n<p>ここまでの観察で，MONAD の本質的な部分は，input の個数だけ z を更新する部分であることがわかりました．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">calc_z</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">Id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">i128</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// よくわからん定数</span>\n\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> z <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token constant\">INPUT_DIGITS_NUM</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span><span class=\"token constant\">INPUT_DIGITS_NUM</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// よくわからん処理</span>\n        z<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token comment\">// よくわからん式 (a)</span>\n    <span class=\"token punctuation\">}</span>\n\n    z<span class=\"token punctuation\">[</span><span class=\"token number\">13</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>また，z の配列を表示してみると，多くのモデル番号では z の値が大きなものに発散しているようでした．したがって，今回の問題では z をいかに発散させずに 0 へ持っていけるかが重要となりそうです．</p>\n<p>上記の z の更新式<code class=\"language-text\">(a)</code>を見てみます．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\">z<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>prev_z <span class=\"token operator\">/</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">if</span> x <span class=\"token punctuation\">{</span> <span class=\"token number\">26</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n       <span class=\"token operator\">+</span> <span class=\"token keyword\">if</span> x <span class=\"token punctuation\">{</span> input<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">C</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>z を増加させる項である<code class=\"language-text\">* if x { 26 } else { 1 }</code>と<code class=\"language-text\">+ if x { input[i] + C[i] } else { 0 }</code>に着目します．どちらの項も，x という謎の真偽値が ture の時に z を増加させ，そうでない場合は値を変化させないことがわかります．</p>\n<p>一方で，z を減少させる可能性があるのは<code class=\"language-text\">prev_z / A[i]</code>の部分だけです．ここで<code class=\"language-text\">A</code>は次のような定数です．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> <span class=\"token class-name\">A</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>つまり，モデル番号によらず，z は 26 で 7 回割られます．一方で，<code class=\"language-text\">* if x { 26 } else { 1 }</code>を思い出すと，x が true の場合はせっかく減少した z を打ち消してしまうことに気づきます．また， <strong>どのような 1 桁目のモデル番号を与えても最初の x は true</strong>．つまり <strong><code class=\"language-text\">z[0]</code>は 0 より大きい</strong> ということも確かめました．</p>\n<p>したがって， <strong>最初の true を除いて，x が 7 回以上 true になった時点で，そのモデル番号は無効</strong>．つまり <strong>x が 8 回以上 true となった時点で，そのモデル番号は無効</strong> といえるので，この条件で枝切りができそうです．</p>\n<p><code class=\"language-text\">+ if x { input[i] + C[i] } else { 0 }</code>とかいう項が釈然としませんが，とりあえず無視します．</p>\n<h4>実装</h4>\n<p>各桁における z の計算をノードとして，深さ優先探索で解きました．ただし，x が<code class=\"language-text\">true</code>となった回数を数えておき，それが 8 回以上となった場合枝切りします．</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">SearchState</span> <span class=\"token punctuation\">{</span>\n    digit_index<span class=\"token punctuation\">:</span> <span class=\"token keyword\">usize</span><span class=\"token punctuation\">,</span>\n    prev_z<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i128</span><span class=\"token punctuation\">,</span>\n    true_x_num<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span>\n    show_progress<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">search_id</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">:</span> <span class=\"token class-name\">SearchState</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Id</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 最終桁までステップを終えていて，かつzが0ならモデル番号を返す</span>\n\n    <span class=\"token comment\">// 枝切り</span>\n    <span class=\"token keyword\">if</span> state<span class=\"token punctuation\">.</span>true_x_num <span class=\"token operator\">>=</span> <span class=\"token number\">8</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// 現在の桁を9〜1まで試す</span>\n    <span class=\"token keyword\">for</span> digit <span class=\"token keyword\">in</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">..=</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">rev</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> <span class=\"token comment\">// zを計算</span>\n\n        <span class=\"token comment\">// 次の桁に対して自分自身を呼び出す</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token class-name\">None</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>上記のアルゴリズムによって，およそ 800ms くらいで解が求まりました．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day24-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>MONAD が受け付ける最小のモデル番号を回答します．</p>\n<p>Part 1 のコードを少し改変すれば解けます．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day24-2/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n</details>\n<h2>[かんたん] <a href=\"https://adventofcode.com/2021/day/25\" target=\"_blank\" rel=\"noopener\">Day 25: Sea Cucumber</a></h2>\n<details><summary>詳細を見る</summary>\n<h3>概要</h3>\n<p>ナマコの動きを予想する問題です．</p>\n<p>海底（2 次元空間）にナマコが大量にいます（こわい）．潜水艦を海底のナマコが居ない部分へ安全に着陸させるために，ナマコの動きを計算します．</p>\n<p>ナマコの初期状態が次のように与えられます．</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">v...>>.vv>\n.vv>>.vv..\n>>.>v>...v\n>>v>>.>.v.\nv>v.vv.v..\n>.>>..v...\n.vv..>.>v.\nv.v..>>v.v\n....v..v.></code></pre></div>\n<p><code class=\"language-text\">.</code>の場所にはナマコはいません．<code class=\"language-text\">></code>は東向きのナマコで，右に動きます．<code class=\"language-text\">v</code>は南向きのナマコで，下に動きます．</p>\n<p>ナマコは，次に動くべき場所に空きスペースがあれば動きます．なければ動きません．</p>\n<p>マップの上下左右は，それぞれ反対側とつながっています．</p>\n<h3>Part 1</h3>\n<p>ナマコを動かしていくと，いずれお互いを邪魔しあってマップに変化がなくなります．ナマコが動かなくなる最初のステップ数を回答します．</p>\n<p>ここまでの問題が解けたなら，特に難しいことはありません．素直に実装すれば良いです．</p>\n<p><a href=\"https://github.com/sititou70/advent-of-code-2021/blob/master/day25-1/src/main.rs\" target=\"_blank\" rel=\"noopener\">解答コード</a></p>\n<h3>Part 2</h3>\n<p>これまでの問題全てを解いていれば自動的にクリアとなります．</p>\n</details>\n<h2>完走した感想</h2>\n<details><summary>感想を見る</summary>\n<p>初めて Advent of Code というものに参加してみて，本当に辛かったです．後半の問題の難しさと，年末の仕事納めの忙しさのダブルパンチにより，「もうやめちゃおうかな…」と何度も思いました．しかしその分，全ての問題が終わった時の達成感は何ものにも代えがたいものでした．</p>\n<p>今回のイベントを通して，合計 3000 行くらいの Rust のコードを書きました．イベントに参加する前は <em>「ちょっとしたパズルを 25 問解くだけでしょ」</em> と思っていましたが，終わってみれば，やっぱりなかなかの分量があるなぁと思います．</p>\n<p><a href=\"/Rust%E6%AD%B47%E6%97%A5%E3%81%A7%E3%81%99%E3%81%8C%E9%9F%B3%E3%82%B2%E3%83%BC%E3%82%92%E4%BD%9C%E3%82%8A%E3%81%BE%E3%81%97%E3%81%9F/\">前回の記事</a>ではノリで Rust に入門しました．今回のイベントによって入門者 -> 初心者くらいまでレベルアップできたのではないかと思っています．日を追うごとに問題が難しくなっていくので，何かの言語の入門に適したイベントではないかと感じました．</p>\n<p>最後に，私を Advent of Code 2021 に誘ってくださった <a href=\"https://twitter.com/yosuke_furukawa\" target=\"_blank\" rel=\"noopener\">@yosuke_furukawa</a> さんにお礼を申し上げます．furukawa さんに誘われるまではこのようなイベントがあることすら知りませんでしたし，多分一人では参加しなかったと思います．イベント中は，お互いのリポジトリへの Push が Slack で通知されるようにしていたのですが，お互いのコミットによってプレッシャーを与えあっていたおかげで，なんとか完走できました．</p>\n</details>\n<p>本記事があなたのお役に立てばうれしいです．</p>\n<p>ありがとうございました．</p>","frontmatter":{"title":"Advent of Code 2021攻略ガイド","date":"2021/12/28"},"fields":{"slug":"/Advent-of-Code-2021攻略ガイド/"},"id":"75696ec6-74a3-5046-8a3c-f39b36d92311"},"relatedMarkdownRemarks":{"posts":[{"id":"d29b4513-0609-5cfc-af49-817467dbed1f","fields":{"slug":"/ウソの新居ができるまで（Blender）/"},"frontmatter":{"date":"2021/03/27","title":"ウソの新居ができるまで（Blender）","draft":null}},{"id":"f49ce388-e81c-5425-af59-9902f125c20f","fields":{"slug":"/TypeScriptの型で全加算器から浮動小数点数，そして√2/"},"frontmatter":{"date":"2021/06/07","title":"TypeScriptの型で全加算器から浮動小数点数，そして√2","draft":null}},{"id":"48c65a15-67ca-57d0-9edc-ebcb868f7ad2","fields":{"slug":"/HexoとReactとSassとGitHub-Pagesで勝ち組になる/"},"frontmatter":{"date":"2018/01/24","title":"HexoとReactとSassとGitHub Pagesで勝ち組になる","draft":true}},{"id":"50d3cc2a-de7a-5b9a-a8d8-754415fe4d94","fields":{"slug":"/Linux-kernelのMakefileを雰囲気で読んだ話/"},"frontmatter":{"date":"2020/04/28","title":"Linux kernelのMakefileを雰囲気で読んだ話","draft":null}},{"id":"8f7b1b24-7738-5b97-bfb6-fd763f11a664","fields":{"slug":"/踊る身内ネタ/"},"frontmatter":{"date":"2018/10/04","title":"踊る身内ネタ","draft":true}},{"id":"97f01467-e3a1-58e1-b2a4-db77354cc1a3","fields":{"slug":"/Blenderで20世紀F○X風のOPを作る/"},"frontmatter":{"date":"2017/04/03","title":"Blenderで20世紀F○X風のOPを作る","draft":null}},{"id":"1086a735-7173-58cc-a813-c540a563aedf","fields":{"slug":"/Rust歴7日ですが音ゲーを作りました/"},"frontmatter":{"date":"2021/12/09","title":"Rust歴7日ですが音ゲーを作りました","draft":false}},{"id":"01deffb8-0d62-54c6-9e41-20832cbc3c6e","fields":{"slug":"/Blenderと魚/"},"frontmatter":{"date":"2017/06/13","title":"Blenderと魚","draft":null}},{"id":"ed7af7f9-75f5-59be-9063-de564576eed7","fields":{"slug":"/BlenderとbeatmaniaIIDX13-DistorteD/"},"frontmatter":{"date":"2018/06/03","title":"BlenderとbeatmaniaIIDX13 DistorteD","draft":true}},{"id":"0116f663-28d1-507a-b5ab-b189801dd408","fields":{"slug":"/太鼓さん次郎のセーブデータを解析したかった/"},"frontmatter":{"date":"2016/12/31","title":"太鼓さん次郎のセーブデータを解析したかった","draft":true}},{"id":"50951bb1-eb92-5663-a3d8-8f35f73a1322","fields":{"slug":"/【配布あり・編集可能】Blenderでパチンコ文字/"},"frontmatter":{"date":"2022/01/01","title":"【配布あり・編集可能】Blenderでパチンコ文字","draft":null}},{"id":"3a3c4125-9986-53bb-8b96-ae29936c96ab","fields":{"slug":"/TypeScriptの型で素数を求めたい/"},"frontmatter":{"date":"2021/01/19","title":"TypeScriptの型で素数を求めたい","draft":null}},{"id":"7a8fc278-a847-5b68-8b74-a83193ba3f55","fields":{"slug":"/Firefox（Blender）/"},"frontmatter":{"date":"2021/08/14","title":"Firefox（Blender）","draft":null}},{"id":"a190aac4-0483-5e02-b1d3-261f3b5f313a","fields":{"slug":"/Credits（Frums）をマジのターミナルで/"},"frontmatter":{"date":"2021/04/29","title":"Credits（Frums）をマジのターミナルで","draft":null}},{"id":"be594923-185e-5cca-95b6-5267b3c9fc8c","fields":{"slug":"/「解けないキューブ」入門/"},"frontmatter":{"date":"2020/12/02","title":"「解けないキューブ」入門","draft":null}},{"id":"e322eac2-bd89-5347-b20d-d050d303a6be","fields":{"slug":"/モーショントラッキングリベンジ（Blender）/"},"frontmatter":{"date":"2017/06/19","title":"モーショントラッキングリベンジ（Blender）","draft":null}},{"id":"73ab4455-f04d-5320-bf3a-90b9f7441d13","fields":{"slug":"/Dockerで簡単TeX環境構築/"},"frontmatter":{"date":"2020/01/07","title":"Dockerで簡単TeX環境構築","draft":null}},{"id":"69a4aa90-b728-522c-b34f-abee49825c45","fields":{"slug":"/ローカルにある動画を任意の文字列のAAで再生できるページ/"},"frontmatter":{"date":"2015/09/13","title":"ローカルにある動画を任意の文字列のAAで再生できるページ","draft":true}},{"id":"63f3c7ad-6c59-52b5-9816-78fd348955ff","fields":{"slug":"/【ついに実装！】押すたびに七十の携帯電話に七十からのメールが届き、七十が迷惑するボタン。/"},"frontmatter":{"date":"2015/09/20","title":"【ついに実装！】押すたびに七十の携帯電話に七十からのメールが届き、七十が迷惑するボタン。","draft":true}},{"id":"1162dccb-e1bf-576d-a5c6-0993394feb0a","fields":{"slug":"/太鼓さん次郎-EDIT-by-GONZUXの曲を人力でソートする/"},"frontmatter":{"date":"2016/02/17","title":"太鼓さん次郎 EDIT by GONZUXの曲を人力でソートする","draft":true}},{"id":"75550af2-8134-5467-a07d-abbb5a4f6b7c","fields":{"slug":"/久留米大学の西原慎治先生の運営するWebサイトのリニューアル作業を受託しました/"},"frontmatter":{"date":"2016/03/27","title":"久留米大学の西原慎治先生の運営するWebサイトのリニューアル作業を受託しました","draft":true}},{"id":"4edc1b46-b395-5783-af6a-818b8fc9c2dc","fields":{"slug":"/Blenderでモーションをトラッキングする/"},"frontmatter":{"date":"2016/12/24","title":"Blenderでモーションをトラッキングする","draft":null}},{"id":"9f02de74-61a0-5daf-a048-1c1022e08fe4","fields":{"slug":"/Blenderでクマをモデリングする/"},"frontmatter":{"date":"2016/09/17","title":"Blenderでクマをモデリングする","draft":null}},{"id":"7778d041-a5bf-536a-a36f-c0dbc5e08ac7","fields":{"slug":"/Blenderで女性をモデリングする/"},"frontmatter":{"date":"2016/09/19","title":"Blenderで女性をモデリングする","draft":true}},{"id":"b4251348-b618-5b5b-a2c8-e4c6b2431b83","fields":{"slug":"/正月なので門松をモデリングしなくてはならない/"},"frontmatter":{"date":"2017/01/01","title":"正月なので門松をモデリングしなくてはならない","draft":true}},{"id":"f06a6ae0-e961-504c-8dab-a60489c0557a","fields":{"slug":"/門松にマテリアルとテクスチャを設定する/"},"frontmatter":{"date":"2017/01/03","title":"門松にマテリアルとテクスチャを設定する","draft":true}},{"id":"7d6499d9-277c-5f07-b8b1-98ae40c50c42","fields":{"slug":"/Blenderで文字を破壊する/"},"frontmatter":{"date":"2017/01/13","title":"Blenderで文字を破壊する","draft":null}},{"id":"4ed3b747-2001-54f4-9661-3acab89ce275","fields":{"slug":"/Blenderで能力者になる/"},"frontmatter":{"date":"2017/01/14","title":"Blenderで能力者になる","draft":null}},{"id":"c7a5adfb-149b-5469-ba35-7421e2101951","fields":{"slug":"/Blenderでアニメ調にレンダリングしてみる/"},"frontmatter":{"date":"2017/01/28","title":"Blenderでアニメ調にレンダリングしてみる","draft":null}},{"id":"dd0c41cf-0a03-5b89-b5a2-f64859aeae63","fields":{"slug":"/Blenderとやわらかダンボール/"},"frontmatter":{"date":"2017/02/14","title":"Blenderとやわらかダンボール","draft":null}},{"id":"e376b2d4-df91-5b82-af7a-a8d02763e922","fields":{"slug":"/BlenderでMGMの（ライオンの）OPを作る/"},"frontmatter":{"date":"2017/04/15","title":"BlenderでMGMの（ライオンの）OPを作る","draft":true}},{"id":"871ac696-39ea-5c64-94f3-5dc4b73b5770","fields":{"slug":"/Blenderと炎上案件（物理演算）/"},"frontmatter":{"date":"2017/04/22","title":"Blenderと炎上案件（物理演算）","draft":true}},{"id":"eba9aa6a-6e21-5f1b-a0eb-7b6bfb1e04f1","fields":{"slug":"/Blenderと岩/"},"frontmatter":{"date":"2017/04/25","title":"Blenderと岩","draft":null}},{"id":"3908aafc-c8d3-5c67-821f-0866592449f2","fields":{"slug":"/BlenderとAviUtlでドラクエ風のロゴと動画を作る/"},"frontmatter":{"date":"2017/05/05","title":"BlenderとAviUtlでドラクエ風のロゴと動画を作る","draft":true}},{"id":"e83330dc-2312-5ae6-95fa-53e86909f42b","fields":{"slug":"/大学の金でレンダリングする（BlenderとAmazon-EC2で、はためく旗）/"},"frontmatter":{"date":"2017/05/18","title":"大学の金でレンダリングする（BlenderとAmazon EC2で、はためく旗）","draft":true}},{"id":"7d79eb4b-cd4a-5621-a67a-91d9a24dce05","fields":{"slug":"/お菓子作り（Blender）/"},"frontmatter":{"date":"2017/06/04","title":"お菓子作り（Blender）","draft":null}},{"id":"78349b16-6e41-5fef-ae38-bcdc5ff297ef","fields":{"slug":"/Blenderで三角形の数を数える/"},"frontmatter":{"date":"2017/07/17","title":"Blenderで三角形の数を数える","draft":true}},{"id":"bfee69af-7d7f-5d87-9680-d2e9b60f8416","fields":{"slug":"/Fusion360講習会に行ってきた/"},"frontmatter":{"date":"2017/08/10","title":"Fusion360講習会に行ってきた","draft":null}},{"id":"a091877c-69b8-59f9-8963-1af334fd573c","fields":{"slug":"/JPHACKS2017雑記/"},"frontmatter":{"date":"2018/01/27","title":"JPHACKS2017雑記","draft":null}},{"id":"f5a25ce1-67a6-51b2-9bf1-f9fbacb41ad1","fields":{"slug":"/Osu-Taikoプレーヤーの分布と偏差値を調べる/"},"frontmatter":{"date":"2018/04/01","title":"Osu!Taikoプレーヤーの分布と偏差値を調べる","draft":true}},{"id":"12222bfa-2e8e-51ee-99d8-8a19902351f5","fields":{"slug":"/ハッカソンでやってはいけないこと（Hack-U-函館-2018）/"},"frontmatter":{"date":"2018/03/17","title":"ハッカソンでやってはいけないこと（Hack U 函館 2018）","draft":null}},{"id":"e4fb8478-b1ad-59eb-95e8-8c5e0500d3f4","fields":{"slug":"/osu-taikoの各ランク帯で人気なmodを調べる/"},"frontmatter":{"date":"2018/08/15","title":"osu!taikoの各ランク帯で人気なmodを調べる","draft":null}},{"id":"2f30c3f1-0d66-590b-8dba-7836df701d46","fields":{"slug":"/kurage---IT企業のフォロー関係を分析し、企業やエンジニアをランク付けする/"},"frontmatter":{"date":"2018/08/25","title":"kurage - IT企業のフォロー関係を分析し、企業やエンジニアをランク付けする","draft":null}},{"id":"c6def021-b8da-5dbe-ad3e-811d9286424d","fields":{"slug":"/React-NativeでiOSアプリ開発入門/"},"frontmatter":{"date":"2017/09/01","title":"React NativeでiOSアプリ開発入門","draft":true}},{"id":"db26c6b9-37b4-5cc4-b1ec-c61dc667863e","fields":{"slug":"/Blenderでフォトリアリスティック電球/"},"frontmatter":{"date":"2018/10/07","title":"Blenderでフォトリアリスティック電球","draft":null}},{"id":"1509de3c-7308-5e40-a885-f5ebdb089774","fields":{"slug":"/Blenderで床を汚す/"},"frontmatter":{"date":"2019/02/16","title":"Blenderで床を汚す","draft":null}},{"id":"5888c50d-8414-5e8f-b0dc-28a31b29053d","fields":{"slug":"/BlenderのPrincipled-BSDFでフォトリアリスティック床/"},"frontmatter":{"date":"2019/02/13","title":"BlenderのPrincipled BSDFでフォトリアリスティック床","draft":null}},{"id":"8b3e46c2-1a1e-5af0-8900-7972c7285d15","fields":{"slug":"/春のLT大会まとめ/"},"frontmatter":{"date":"2019/05/18","title":"春のLT大会まとめ","draft":null}},{"id":"cbdf3192-973c-5d87-9cf1-bb9110e9a169","fields":{"slug":"/不安だらけのリクルートインターン体験記【Recruit-Internship-for-Specialist-2019】/"},"frontmatter":{"date":"2019/10/02","title":"不安だらけのリクルートインターン体験記【Recruit Internship for Specialist 2019】","draft":null}},{"id":"49cf25c1-03f6-575e-8c2f-638ccd6198ea","fields":{"slug":"/【Linux】カーネルビルドでも進捗が見たい！/"},"frontmatter":{"date":"2020/04/27","title":"【Linux】カーネルビルドでも進捗が見たい！","draft":null}},{"id":"961ec1e6-3f2b-59d9-a33f-dad76cf67f47","fields":{"slug":"/【ラーメンズ】特殊な50音表を探索してみた【50-on-5】/"},"frontmatter":{"date":"2020/05/17","title":"【ラーメンズ】特殊な50音表を探索してみた【50 on 5】","draft":null}},{"id":"73d6ab42-b3e6-5663-a175-b1f3d69c29e1","fields":{"slug":"/Gatsby製ブログで自然言語処理して関連記事を表示する/"},"frontmatter":{"date":"2020/06/12","title":"Gatsby製ブログで自然言語処理して関連記事を表示する","draft":null}},{"id":"27f10a38-0ecb-539f-a717-7e40a41bbd10","fields":{"slug":"/Blenderでいぶし銀/"},"frontmatter":{"date":"2020/08/26","title":"Blenderでいぶし銀","draft":null}},{"id":"3b696b96-130d-50de-a673-dc1367f32387","fields":{"slug":"/シングルユーザーモードのUbuntuにSSHする（SSH-to-Single-User-Mode-Ubuntu-18.04）/"},"frontmatter":{"date":"2020/10/25","title":"シングルユーザーモードのUbuntuにSSHする（SSH to Single User Mode Ubuntu 18.04）","draft":null}},{"id":"fd6eab68-17d3-5395-8b2b-54a6efe43ebb","fields":{"slug":"/エンジニアならtmuxくらい使いこなしたらどうだ/"},"frontmatter":{"date":"2020/09/18","title":"エンジニアならtmuxくらい使いこなしたらどうだ","draft":null}},{"id":"46a22c41-5455-557c-85d4-973a6e2220ee","fields":{"slug":"/百合オタクの脳内を可視化する，その名もyurigraph/"},"frontmatter":{"date":"2020/12/02","title":"百合オタクの脳内を可視化する，その名もyurigraph","draft":null}},{"id":"c2249b7b-b97e-5cf4-8ea9-8024e96851b7","fields":{"slug":"/BaHoを殺したい/"},"frontmatter":{"date":"2020/12/26","title":"BaHoを殺したい","draft":true}},{"id":"067a602f-4581-5707-b896-73190dd8c889","fields":{"slug":"/コーディングで流す曲5選/"},"frontmatter":{"date":"2020/12/26","title":"コーディングで流す曲5選","draft":null}},{"id":"c5e2431a-cf05-5024-b833-e1c69f680d44","fields":{"slug":"/TC39-Temporalのドキュメントを一部翻訳しました/"},"frontmatter":{"date":"2021/07/27","title":"TC39 Temporalのドキュメントを一部翻訳しました","draft":null}},{"id":"2cfd9e33-b4e1-53e4-884d-d8a6760f3387","fields":{"slug":"/私のUbuntu-20.04セットアップ/"},"frontmatter":{"date":"2021/06/27","title":"私のUbuntu 20.04セットアップ","draft":true}},{"id":"0c5568c9-6d87-56ed-ab0e-caeb9c1aafa4","fields":{"slug":"/夏だからGatsbyのランタイム全部消す/"},"frontmatter":{"date":"2021/08/02","title":"夏だからGatsbyのランタイム全部消す","draft":null}},{"id":"d4d1afa4-f2f9-5942-ae36-2826fb938af5","fields":{"slug":"/BlenderとEeveeで地球/"},"frontmatter":{"date":"2021/08/11","title":"BlenderとEeveeで地球","draft":null}},{"id":"29b79017-f96d-5b04-8d01-5b8ee761ebed","fields":{"slug":"/よわよわエンジニアが-TAPL（型システム入門）を読んだら/"},"frontmatter":{"date":"2022/05/02","title":"よわよわエンジニアが TAPL（型システム入門）を読んだら","draft":null}},{"id":"ebae7878-c4ee-505e-81e2-3d3fc47ea826","fields":{"slug":"/2021年カップリング白書/"},"frontmatter":{"date":"2021/12/05","title":"2021年カップリング白書","draft":null}}]},"allFirstImage":{"nodes":[{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/b032b152bac3048f91227924225e408b/443d0/ss1.png","srcSet":"/static/b032b152bac3048f91227924225e408b/ab966/ss1.png 325w,\n/static/b032b152bac3048f91227924225e408b/443d0/ss1.png 473w","sizes":"(min-width: 473px) 473px, 100vw"},"sources":[{"srcSet":"/static/b032b152bac3048f91227924225e408b/5bfd4/ss1.webp 325w,\n/static/b032b152bac3048f91227924225e408b/b67dd/ss1.webp 473w","type":"image/webp","sizes":"(min-width: 473px) 473px, 100vw"}]},"width":650,"height":81.0782241014799}}]},"parent":{"id":"63f3c7ad-6c59-52b5-9816-78fd348955ff"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/9f40aa21d85d8aae0aa6c83cf0d9e872/10e51/result20160217.png","srcSet":"/static/9f40aa21d85d8aae0aa6c83cf0d9e872/59d5d/result20160217.png 325w,\n/static/9f40aa21d85d8aae0aa6c83cf0d9e872/10e51/result20160217.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/9f40aa21d85d8aae0aa6c83cf0d9e872/f4aa1/result20160217.webp 325w,\n/static/9f40aa21d85d8aae0aa6c83cf0d9e872/93d4d/result20160217.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":4082}}]},"parent":{"id":"1162dccb-e1bf-576d-a5c6-0993394feb0a"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/cd7a54febb2db9310698d975ef8e16b1/97a07/ss1.jpg","srcSet":"/static/cd7a54febb2db9310698d975ef8e16b1/e9fd1/ss1.jpg 325w,\n/static/cd7a54febb2db9310698d975ef8e16b1/97a07/ss1.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/cd7a54febb2db9310698d975ef8e16b1/323c7/ss1.webp 325w,\n/static/cd7a54febb2db9310698d975ef8e16b1/fb481/ss1.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":3684}}]},"parent":{"id":"75550af2-8134-5467-a07d-abbb5a4f6b7c"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#181818","images":{"fallback":{"src":"/static/af2a837c7a9e6b85cee441213db32417/6c7ae/ss1.jpg","srcSet":"/static/af2a837c7a9e6b85cee441213db32417/1e90f/ss1.jpg 325w,\n/static/af2a837c7a9e6b85cee441213db32417/6c7ae/ss1.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/af2a837c7a9e6b85cee441213db32417/3da34/ss1.webp 325w,\n/static/af2a837c7a9e6b85cee441213db32417/3861a/ss1.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":335}}]},"parent":{"id":"4edc1b46-b395-5783-af6a-818b8fc9c2dc"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/99dc5661452739a071049bde9eb46956/051f9/basic_way.jpg","srcSet":"/static/99dc5661452739a071049bde9eb46956/43197/basic_way.jpg 325w,\n/static/99dc5661452739a071049bde9eb46956/051f9/basic_way.jpg 639w","sizes":"(min-width: 639px) 639px, 100vw"},"sources":[{"srcSet":"/static/99dc5661452739a071049bde9eb46956/c4164/basic_way.webp 325w,\n/static/99dc5661452739a071049bde9eb46956/da742/basic_way.webp 639w","type":"image/webp","sizes":"(min-width: 639px) 639px, 100vw"}]},"width":650,"height":258.3724569640063}}]},"parent":{"id":"9f02de74-61a0-5daf-a048-1c1022e08fe4"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#082838","images":{"fallback":{"src":"/static/b7b849169e72da903d1976c47847adfc/5fcc3/ss1.jpg","srcSet":"/static/b7b849169e72da903d1976c47847adfc/94f8f/ss1.jpg 325w,\n/static/b7b849169e72da903d1976c47847adfc/5fcc3/ss1.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/b7b849169e72da903d1976c47847adfc/58a33/ss1.webp 325w,\n/static/b7b849169e72da903d1976c47847adfc/2da80/ss1.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":331}}]},"parent":{"id":"0116f663-28d1-507a-b5ab-b189801dd408"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#180808","images":{"fallback":{"src":"/static/47cc0564f70cd324fe84f39b15dc0e18/0053f/pine_decoration.jpg","srcSet":"/static/47cc0564f70cd324fe84f39b15dc0e18/b30f2/pine_decoration.jpg 325w,\n/static/47cc0564f70cd324fe84f39b15dc0e18/0053f/pine_decoration.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/47cc0564f70cd324fe84f39b15dc0e18/f077d/pine_decoration.webp 325w,\n/static/47cc0564f70cd324fe84f39b15dc0e18/da42d/pine_decoration.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":1244}}]},"parent":{"id":"b4251348-b618-5b5b-a2c8-e4c6b2431b83"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e8e8e8","images":{"fallback":{"src":"/static/11cfeed9fce6ad6edc75aa74c228f12f/febc3/takeuv.png","srcSet":"/static/11cfeed9fce6ad6edc75aa74c228f12f/bdbbb/takeuv.png 325w,\n/static/11cfeed9fce6ad6edc75aa74c228f12f/febc3/takeuv.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/11cfeed9fce6ad6edc75aa74c228f12f/a845f/takeuv.webp 325w,\n/static/11cfeed9fce6ad6edc75aa74c228f12f/606f5/takeuv.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":487.99999999999994}}]},"parent":{"id":"f06a6ae0-e961-504c-8dab-a60489c0557a"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/11e3863f80cc740eaafddc56109ebea2/ba405/VEP_break1.jpg","srcSet":"/static/11e3863f80cc740eaafddc56109ebea2/d47aa/VEP_break1.jpg 325w,\n/static/11e3863f80cc740eaafddc56109ebea2/ba405/VEP_break1.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/11e3863f80cc740eaafddc56109ebea2/22542/VEP_break1.webp 325w,\n/static/11e3863f80cc740eaafddc56109ebea2/e6743/VEP_break1.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"7d6499d9-277c-5f07-b8b1-98ae40c50c42"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#584838","images":{"fallback":{"src":"/static/c4ff80d8b89254616c0dafd0d4224564/ba405/waterman2.jpg","srcSet":"/static/c4ff80d8b89254616c0dafd0d4224564/d47aa/waterman2.jpg 325w,\n/static/c4ff80d8b89254616c0dafd0d4224564/ba405/waterman2.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/c4ff80d8b89254616c0dafd0d4224564/22542/waterman2.webp 325w,\n/static/c4ff80d8b89254616c0dafd0d4224564/e6743/waterman2.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"4ed3b747-2001-54f4-9661-3acab89ce275"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8e8","images":{"fallback":{"src":"/static/3a27bf3cfad7a2691839d81a39897eac/96aed/nitijyou01.png","srcSet":"/static/3a27bf3cfad7a2691839d81a39897eac/b1d5f/nitijyou01.png 325w,\n/static/3a27bf3cfad7a2691839d81a39897eac/96aed/nitijyou01.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/3a27bf3cfad7a2691839d81a39897eac/22542/nitijyou01.webp 325w,\n/static/3a27bf3cfad7a2691839d81a39897eac/e6743/nitijyou01.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"c7a5adfb-149b-5469-ba35-7421e2101951"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#d8d8d8","images":{"fallback":{"src":"/static/1635e90e8d4f2562997470d062e30c31/ba405/soft_cardboard02.jpg","srcSet":"/static/1635e90e8d4f2562997470d062e30c31/d47aa/soft_cardboard02.jpg 325w,\n/static/1635e90e8d4f2562997470d062e30c31/ba405/soft_cardboard02.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/1635e90e8d4f2562997470d062e30c31/22542/soft_cardboard02.webp 325w,\n/static/1635e90e8d4f2562997470d062e30c31/e6743/soft_cardboard02.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"dd0c41cf-0a03-5b89-b5a2-f64859aeae63"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0f332f1f8f472c1805c0a6e59e9629f9/ba405/4041.jpg","srcSet":"/static/0f332f1f8f472c1805c0a6e59e9629f9/d47aa/4041.jpg 325w,\n/static/0f332f1f8f472c1805c0a6e59e9629f9/ba405/4041.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/0f332f1f8f472c1805c0a6e59e9629f9/22542/4041.webp 325w,\n/static/0f332f1f8f472c1805c0a6e59e9629f9/e6743/4041.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"97f01467-e3a1-58e1-b2a4-db77354cc1a3"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/ad85c4c1ef44bc15b287b794a2c28285/96aed/rogo_comp.png","srcSet":"/static/ad85c4c1ef44bc15b287b794a2c28285/b1d5f/rogo_comp.png 325w,\n/static/ad85c4c1ef44bc15b287b794a2c28285/96aed/rogo_comp.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/ad85c4c1ef44bc15b287b794a2c28285/22542/rogo_comp.webp 325w,\n/static/ad85c4c1ef44bc15b287b794a2c28285/e6743/rogo_comp.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"e376b2d4-df91-5b82-af7a-a8d02763e922"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/6a0b9e59fddc3c9041c266cbf9739c4f/96aed/fire01.png","srcSet":"/static/6a0b9e59fddc3c9041c266cbf9739c4f/b1d5f/fire01.png 325w,\n/static/6a0b9e59fddc3c9041c266cbf9739c4f/96aed/fire01.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/6a0b9e59fddc3c9041c266cbf9739c4f/22542/fire01.webp 325w,\n/static/6a0b9e59fddc3c9041c266cbf9739c4f/e6743/fire01.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"871ac696-39ea-5c64-94f3-5dc4b73b5770"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/fc95c11106f9a67e363629f02bc3707e/c5ec7/rock.png","srcSet":"/static/fc95c11106f9a67e363629f02bc3707e/dbbce/rock.png 325w,\n/static/fc95c11106f9a67e363629f02bc3707e/c5ec7/rock.png 492w","sizes":"(min-width: 492px) 492px, 100vw"},"sources":[{"srcSet":"/static/fc95c11106f9a67e363629f02bc3707e/d3fb5/rock.webp 325w,\n/static/fc95c11106f9a67e363629f02bc3707e/36ce1/rock.webp 492w","type":"image/webp","sizes":"(min-width: 492px) 492px, 100vw"}]},"width":650,"height":685.6707317073171}}]},"parent":{"id":"eba9aa6a-6e21-5f1b-a0eb-7b6bfb1e04f1"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/1a24d78157db727a36407cfd43130f49/ba405/404dragon08.jpg","srcSet":"/static/1a24d78157db727a36407cfd43130f49/d47aa/404dragon08.jpg 325w,\n/static/1a24d78157db727a36407cfd43130f49/ba405/404dragon08.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/1a24d78157db727a36407cfd43130f49/22542/404dragon08.webp 325w,\n/static/1a24d78157db727a36407cfd43130f49/e6743/404dragon08.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"3908aafc-c8d3-5c67-821f-0866592449f2"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#282828","images":{"fallback":{"src":"/static/9e1b467aebfff0d275b7eb9ec2d32d37/146d1/ss01.png","srcSet":"/static/9e1b467aebfff0d275b7eb9ec2d32d37/146d1/ss01.png 243w","sizes":"(min-width: 243px) 243px, 100vw"},"sources":[{"srcSet":"/static/9e1b467aebfff0d275b7eb9ec2d32d37/31e17/ss01.webp 243w","type":"image/webp","sizes":"(min-width: 243px) 243px, 100vw"}]},"width":650,"height":561.7283950617283}}]},"parent":{"id":"e83330dc-2312-5ae6-95fa-53e86909f42b"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#383838","images":{"fallback":{"src":"/static/9198ce0b7c987fd9632db8f324eda0f4/96aed/sweets01.png","srcSet":"/static/9198ce0b7c987fd9632db8f324eda0f4/b1d5f/sweets01.png 325w,\n/static/9198ce0b7c987fd9632db8f324eda0f4/96aed/sweets01.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/9198ce0b7c987fd9632db8f324eda0f4/22542/sweets01.webp 325w,\n/static/9198ce0b7c987fd9632db8f324eda0f4/e6743/sweets01.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"7d79eb4b-cd4a-5621-a67a-91d9a24dce05"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#3888c8","images":{"fallback":{"src":"/static/6f133da88b0924827d12c0b18b19ade9/96aed/0001.png","srcSet":"/static/6f133da88b0924827d12c0b18b19ade9/b1d5f/0001.png 325w,\n/static/6f133da88b0924827d12c0b18b19ade9/96aed/0001.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/6f133da88b0924827d12c0b18b19ade9/22542/0001.webp 325w,\n/static/6f133da88b0924827d12c0b18b19ade9/e6743/0001.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"01deffb8-0d62-54c6-9e41-20832cbc3c6e"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/884f6f26b798af145147b6229ff3a626/e16cc/how_many_triangles.jpg","srcSet":"/static/884f6f26b798af145147b6229ff3a626/f56c1/how_many_triangles.jpg 325w,\n/static/884f6f26b798af145147b6229ff3a626/e16cc/how_many_triangles.jpg 540w","sizes":"(min-width: 540px) 540px, 100vw"},"sources":[{"srcSet":"/static/884f6f26b798af145147b6229ff3a626/e3c5d/how_many_triangles.webp 325w,\n/static/884f6f26b798af145147b6229ff3a626/04098/how_many_triangles.webp 540w","type":"image/webp","sizes":"(min-width: 540px) 540px, 100vw"}]},"width":650,"height":659.6296296296296}}]},"parent":{"id":"78349b16-6e41-5fef-ae38-bcdc5ff297ef"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#181818","images":{"fallback":{"src":"/static/8b2d731757035094943f20a6f20c8ad5/f2a98/MotionTrackingRevenge03.png","srcSet":"/static/8b2d731757035094943f20a6f20c8ad5/e6240/MotionTrackingRevenge03.png 325w,\n/static/8b2d731757035094943f20a6f20c8ad5/f2a98/MotionTrackingRevenge03.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/8b2d731757035094943f20a6f20c8ad5/7ec0b/MotionTrackingRevenge03.webp 325w,\n/static/8b2d731757035094943f20a6f20c8ad5/e16c4/MotionTrackingRevenge03.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":362}}]},"parent":{"id":"e322eac2-bd89-5347-b20d-d050d303a6be"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e8e8e8","images":{"fallback":{"src":"/static/c771ebb8affa794b45e731a5097adeeb/56cb6/parametric_modeling.png","srcSet":"/static/c771ebb8affa794b45e731a5097adeeb/e0b97/parametric_modeling.png 325w,\n/static/c771ebb8affa794b45e731a5097adeeb/56cb6/parametric_modeling.png 475w","sizes":"(min-width: 475px) 475px, 100vw"},"sources":[{"srcSet":"/static/c771ebb8affa794b45e731a5097adeeb/dfd78/parametric_modeling.webp 325w,\n/static/c771ebb8affa794b45e731a5097adeeb/374db/parametric_modeling.webp 475w","type":"image/webp","sizes":"(min-width: 475px) 475px, 100vw"}]},"width":650,"height":622.6315789473683}}]},"parent":{"id":"bfee69af-7d7f-5d87-9680-d2e9b60f8416"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/af6a9f9642dca457974c22b15420ce4e/c1b3b/repos.png","srcSet":"/static/af6a9f9642dca457974c22b15420ce4e/9080a/repos.png 325w,\n/static/af6a9f9642dca457974c22b15420ce4e/c1b3b/repos.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/af6a9f9642dca457974c22b15420ce4e/d95db/repos.webp 325w,\n/static/af6a9f9642dca457974c22b15420ce4e/1c489/repos.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":279}}]},"parent":{"id":"48c65a15-67ca-57d0-9edc-ebcb868f7ad2"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/276a071a76ddfcbe51810b92d8010832/051a5/automaton_diagram.jpg","srcSet":"/static/276a071a76ddfcbe51810b92d8010832/6b6a1/automaton_diagram.jpg 325w,\n/static/276a071a76ddfcbe51810b92d8010832/051a5/automaton_diagram.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/276a071a76ddfcbe51810b92d8010832/ce091/automaton_diagram.webp 325w,\n/static/276a071a76ddfcbe51810b92d8010832/d3a37/automaton_diagram.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":303}}]},"parent":{"id":"a091877c-69b8-59f9-8963-1af334fd573c"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/28f51acf982ac04ebf02b027dfd547b0/f9e79/pp_histogram.png","srcSet":"/static/28f51acf982ac04ebf02b027dfd547b0/1472b/pp_histogram.png 325w,\n/static/28f51acf982ac04ebf02b027dfd547b0/f9e79/pp_histogram.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/28f51acf982ac04ebf02b027dfd547b0/32011/pp_histogram.webp 325w,\n/static/28f51acf982ac04ebf02b027dfd547b0/4782a/pp_histogram.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":265}}]},"parent":{"id":"f5a25ce1-67a6-51b2-9bf1-f9fbacb41ad1"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/62f48b571ed80ffc92ed9f158aad85ec/ba405/4.jpg","srcSet":"/static/62f48b571ed80ffc92ed9f158aad85ec/d47aa/4.jpg 325w,\n/static/62f48b571ed80ffc92ed9f158aad85ec/ba405/4.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/62f48b571ed80ffc92ed9f158aad85ec/22542/4.webp 325w,\n/static/62f48b571ed80ffc92ed9f158aad85ec/e6743/4.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"ed7af7f9-75f5-59be-9063-de564576eed7"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/117f1426908df53d20be913ae1ec77f4/611fe/hacku.jpg","srcSet":"/static/117f1426908df53d20be913ae1ec77f4/c21cd/hacku.jpg 325w,\n/static/117f1426908df53d20be913ae1ec77f4/611fe/hacku.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/117f1426908df53d20be913ae1ec77f4/a845f/hacku.webp 325w,\n/static/117f1426908df53d20be913ae1ec77f4/606f5/hacku.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":487.99999999999994}}]},"parent":{"id":"12222bfa-2e8e-51ee-99d8-8a19902351f5"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/c83b9ea757e3e97596871d810360628e/2e663/none-dt.png","srcSet":"/static/c83b9ea757e3e97596871d810360628e/2e663/none-dt.png 282w","sizes":"(min-width: 282px) 282px, 100vw"},"sources":[{"srcSet":"/static/c83b9ea757e3e97596871d810360628e/44bcb/none-dt.webp 282w","type":"image/webp","sizes":"(min-width: 282px) 282px, 100vw"}]},"width":650,"height":172.87234042553192}}]},"parent":{"id":"e4fb8478-b1ad-59eb-95e8-8c5e0500d3f4"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/15b08add163807ed02651f6aa4e56923/5f9a5/graph.png","srcSet":"/static/15b08add163807ed02651f6aa4e56923/197ae/graph.png 325w,\n/static/15b08add163807ed02651f6aa4e56923/5f9a5/graph.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/15b08add163807ed02651f6aa4e56923/ce091/graph.webp 325w,\n/static/15b08add163807ed02651f6aa4e56923/1a72c/graph.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":302}}]},"parent":{"id":"2f30c3f1-0d66-590b-8dba-7836df701d46"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/70a98dbe2d0ec9e5feb0363dfb2703a0/0bbd8/ss01.jpg","srcSet":"/static/70a98dbe2d0ec9e5feb0363dfb2703a0/123ee/ss01.jpg 325w,\n/static/70a98dbe2d0ec9e5feb0363dfb2703a0/0bbd8/ss01.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/70a98dbe2d0ec9e5feb0363dfb2703a0/e4f3d/ss01.webp 325w,\n/static/70a98dbe2d0ec9e5feb0363dfb2703a0/ae248/ss01.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":346}}]},"parent":{"id":"c6def021-b8da-5dbe-ad3e-811d9286424d"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0fcf73750e964061cbb37b2abebb4c9d/ba405/light_bulb1.jpg","srcSet":"/static/0fcf73750e964061cbb37b2abebb4c9d/d47aa/light_bulb1.jpg 325w,\n/static/0fcf73750e964061cbb37b2abebb4c9d/ba405/light_bulb1.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/0fcf73750e964061cbb37b2abebb4c9d/22542/light_bulb1.webp 325w,\n/static/0fcf73750e964061cbb37b2abebb4c9d/e6743/light_bulb1.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"db26c6b9-37b4-5cc4-b1ec-c61dc667863e"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/f81feaf047cec1d88d93689f01bf8e7f/83117/top.jpg","srcSet":"/static/f81feaf047cec1d88d93689f01bf8e7f/ad13f/top.jpg 325w,\n/static/f81feaf047cec1d88d93689f01bf8e7f/83117/top.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/f81feaf047cec1d88d93689f01bf8e7f/5fbc9/top.webp 325w,\n/static/f81feaf047cec1d88d93689f01bf8e7f/76729/top.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":313.99999999999994}}]},"parent":{"id":"8f7b1b24-7738-5b97-bfb6-fd763f11a664"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#282828","images":{"fallback":{"src":"/static/d7732f2c8b03f6586ab5c25ee8059178/ba405/01.jpg","srcSet":"/static/d7732f2c8b03f6586ab5c25ee8059178/d47aa/01.jpg 325w,\n/static/d7732f2c8b03f6586ab5c25ee8059178/ba405/01.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/d7732f2c8b03f6586ab5c25ee8059178/22542/01.webp 325w,\n/static/d7732f2c8b03f6586ab5c25ee8059178/e6743/01.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"1509de3c-7308-5e40-a885-f5ebdb089774"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#181818","images":{"fallback":{"src":"/static/60d8be966946a9b707a0160f0c060c19/ba405/floor01.jpg","srcSet":"/static/60d8be966946a9b707a0160f0c060c19/d47aa/floor01.jpg 325w,\n/static/60d8be966946a9b707a0160f0c060c19/ba405/floor01.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/60d8be966946a9b707a0160f0c060c19/22542/floor01.webp 325w,\n/static/60d8be966946a9b707a0160f0c060c19/e6743/floor01.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"5888c50d-8414-5e8f-b0dc-28a31b29053d"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#78a8e8","images":{"fallback":{"src":"/static/419218efa71544162856b88dcafe2d1f/c5d26/first_view.png","srcSet":"/static/419218efa71544162856b88dcafe2d1f/f5747/first_view.png 325w,\n/static/419218efa71544162856b88dcafe2d1f/c5d26/first_view.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/419218efa71544162856b88dcafe2d1f/e334b/first_view.webp 325w,\n/static/419218efa71544162856b88dcafe2d1f/6d2b7/first_view.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":266}}]},"parent":{"id":"8b3e46c2-1a1e-5af0-8900-7972c7285d15"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/9604af3d5f1c5af5aa8ba9926833ba53/e0c79/latex-logo.png","srcSet":"/static/9604af3d5f1c5af5aa8ba9926833ba53/e0c79/latex-logo.png 296w","sizes":"(min-width: 296px) 296px, 100vw"},"sources":[{"srcSet":"/static/9604af3d5f1c5af5aa8ba9926833ba53/1a84f/latex-logo.webp 296w","type":"image/webp","sizes":"(min-width: 296px) 296px, 100vw"}]},"width":650,"height":259.1216216216216}}]},"parent":{"id":"73ab4455-f04d-5320-bf3a-90b9f7441d13"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#888878","images":{"fallback":{"src":"/static/dea1057f640651f417191e8079513cff/611fe/top.jpg","srcSet":"/static/dea1057f640651f417191e8079513cff/c21cd/top.jpg 325w,\n/static/dea1057f640651f417191e8079513cff/611fe/top.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/dea1057f640651f417191e8079513cff/a845f/top.webp 325w,\n/static/dea1057f640651f417191e8079513cff/606f5/top.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":487.99999999999994}}]},"parent":{"id":"cbdf3192-973c-5d87-9cf1-bb9110e9a169"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/2e9e2caafae1801362108d81818b07c1/b8d03/top_comic1.png","srcSet":"/static/2e9e2caafae1801362108d81818b07c1/b3c05/top_comic1.png 325w,\n/static/2e9e2caafae1801362108d81818b07c1/b8d03/top_comic1.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/2e9e2caafae1801362108d81818b07c1/dacd2/top_comic1.webp 325w,\n/static/2e9e2caafae1801362108d81818b07c1/bc7b1/top_comic1.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":398}}]},"parent":{"id":"49cf25c1-03f6-575e-8c2f-638ccd6198ea"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/bb898da1f01ea996110d61a3ad3ceb7b/c32b4/top.png","srcSet":"/static/bb898da1f01ea996110d61a3ad3ceb7b/c32b4/top.png 257w","sizes":"(min-width: 257px) 257px, 100vw"},"sources":[{"srcSet":"/static/bb898da1f01ea996110d61a3ad3ceb7b/5f0cf/top.webp 257w","type":"image/webp","sizes":"(min-width: 257px) 257px, 100vw"}]},"width":650,"height":786.5758754863814}}]},"parent":{"id":"50d3cc2a-de7a-5b9a-a8d8-754415fe4d94"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/a6588870d683abb33df1b22b4acb87b7/b26eb/sample_50on_table.png","srcSet":"/static/a6588870d683abb33df1b22b4acb87b7/0d34f/sample_50on_table.png 325w,\n/static/a6588870d683abb33df1b22b4acb87b7/b26eb/sample_50on_table.png 480w","sizes":"(min-width: 480px) 480px, 100vw"},"sources":[{"srcSet":"/static/a6588870d683abb33df1b22b4acb87b7/67249/sample_50on_table.webp 325w,\n/static/a6588870d683abb33df1b22b4acb87b7/b5483/sample_50on_table.webp 480w","type":"image/webp","sizes":"(min-width: 480px) 480px, 100vw"}]},"width":650,"height":459.0625}}]},"parent":{"id":"961ec1e6-3f2b-59d9-a33f-dad76cf67f47"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/d17c162b6719613bf674c028927ac9c0/4bf3d/analytics.png","srcSet":"/static/d17c162b6719613bf674c028927ac9c0/149a3/analytics.png 325w,\n/static/d17c162b6719613bf674c028927ac9c0/4bf3d/analytics.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/d17c162b6719613bf674c028927ac9c0/fd4d5/analytics.webp 325w,\n/static/d17c162b6719613bf674c028927ac9c0/6f6e8/analytics.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":273}}]},"parent":{"id":"73d6ab42-b3e6-5663-a175-b1f3d69c29e1"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#a8a8a8","images":{"fallback":{"src":"/static/86060cf7d927415c312ae4fa3f030717/ba405/rend3.jpg","srcSet":"/static/86060cf7d927415c312ae4fa3f030717/d47aa/rend3.jpg 325w,\n/static/86060cf7d927415c312ae4fa3f030717/ba405/rend3.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/86060cf7d927415c312ae4fa3f030717/22542/rend3.webp 325w,\n/static/86060cf7d927415c312ae4fa3f030717/e6743/rend3.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"27f10a38-0ecb-539f-a717-7e40a41bbd10"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/613094ccdc6ea7ca2cf2f418b6536e6c/dd9ac/single_user_mode.jpg","srcSet":"/static/613094ccdc6ea7ca2cf2f418b6536e6c/c21cd/single_user_mode.jpg 325w,\n/static/613094ccdc6ea7ca2cf2f418b6536e6c/dd9ac/single_user_mode.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/613094ccdc6ea7ca2cf2f418b6536e6c/a845f/single_user_mode.webp 325w,\n/static/613094ccdc6ea7ca2cf2f418b6536e6c/5fe42/single_user_mode.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":487.00000000000006}}]},"parent":{"id":"3b696b96-130d-50de-a673-dc1367f32387"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/45e9089b387ca677ee0f3956de346da4/2a011/tmux_logo.png","srcSet":"/static/45e9089b387ca677ee0f3956de346da4/2a011/tmux_logo.png 315w","sizes":"(min-width: 315px) 315px, 100vw"},"sources":[{"srcSet":"/static/45e9089b387ca677ee0f3956de346da4/fda6f/tmux_logo.webp 315w","type":"image/webp","sizes":"(min-width: 315px) 315px, 100vw"}]},"width":650,"height":356.984126984127}}]},"parent":{"id":"fd6eab68-17d3-5395-8b2b-54a6efe43ebb"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#188898","images":{"fallback":{"src":"/static/f07ccacec6e5cdac9c028e312474b219/5c8dc/q1-cube.jpg","srcSet":"/static/f07ccacec6e5cdac9c028e312474b219/5c8dc/q1-cube.jpg 303w","sizes":"(min-width: 303px) 303px, 100vw"},"sources":[{"srcSet":"/static/f07ccacec6e5cdac9c028e312474b219/bbe1d/q1-cube.webp 303w","type":"image/webp","sizes":"(min-width: 303px) 303px, 100vw"}]},"width":650,"height":463.3663366336634}}]},"parent":{"id":"be594923-185e-5cca-95b6-5267b3c9fc8c"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e8f8f8","images":{"fallback":{"src":"/static/5cb3020d59ce757884d5156e52c0930a/9f2bd/yurigraph_ss.png","srcSet":"/static/5cb3020d59ce757884d5156e52c0930a/862fa/yurigraph_ss.png 325w,\n/static/5cb3020d59ce757884d5156e52c0930a/9f2bd/yurigraph_ss.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/5cb3020d59ce757884d5156e52c0930a/d18a7/yurigraph_ss.webp 325w,\n/static/5cb3020d59ce757884d5156e52c0930a/81c08/yurigraph_ss.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":453}}]},"parent":{"id":"46a22c41-5455-557c-85d4-973a6e2220ee"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#584838","images":{"fallback":{"src":"/static/1ff3b597d5992446904b0278ffb5ade4/2f21b/%E3%81%8A%E5%89%8D%E3%82%92%E6%AE%BA%E3%81%99.png","srcSet":"/static/1ff3b597d5992446904b0278ffb5ade4/2f21b/%E3%81%8A%E5%89%8D%E3%82%92%E6%AE%BA%E3%81%99.png 300w","sizes":"(min-width: 300px) 300px, 100vw"},"sources":[{"srcSet":"/static/1ff3b597d5992446904b0278ffb5ade4/b16ce/%E3%81%8A%E5%89%8D%E3%82%92%E6%AE%BA%E3%81%99.webp 300w","type":"image/webp","sizes":"(min-width: 300px) 300px, 100vw"}]},"width":650,"height":585}}]},"parent":{"id":"c2249b7b-b97e-5cf4-8ea9-8024e96851b7"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#3878c8","images":{"fallback":{"src":"/static/bd6cef6475b68f2223800108dc5ec50c/acb7c/ts-logo.png","srcSet":"/static/bd6cef6475b68f2223800108dc5ec50c/acb7c/ts-logo.png 256w","sizes":"(min-width: 256px) 256px, 100vw"},"sources":[{"srcSet":"/static/bd6cef6475b68f2223800108dc5ec50c/22bfc/ts-logo.webp 256w","type":"image/webp","sizes":"(min-width: 256px) 256px, 100vw"}]},"width":650,"height":650}}]},"parent":{"id":"3a3c4125-9986-53bb-8b96-ae29936c96ab"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/b151fbf768ac3dc95bda2597874cb3d8/c7a55/fahrenheit_fair_enough.png","srcSet":"/static/b151fbf768ac3dc95bda2597874cb3d8/f2fd1/fahrenheit_fair_enough.png 325w,\n/static/b151fbf768ac3dc95bda2597874cb3d8/c7a55/fahrenheit_fair_enough.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/b151fbf768ac3dc95bda2597874cb3d8/281ae/fahrenheit_fair_enough.webp 325w,\n/static/b151fbf768ac3dc95bda2597874cb3d8/4c589/fahrenheit_fair_enough.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":653}}]},"parent":{"id":"067a602f-4581-5707-b896-73190dd8c889"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#282828","images":{"fallback":{"src":"/static/e01229a37293a5a405d71d93a9bcb2c7/ba405/rend04.jpg","srcSet":"/static/e01229a37293a5a405d71d93a9bcb2c7/d47aa/rend04.jpg 325w,\n/static/e01229a37293a5a405d71d93a9bcb2c7/ba405/rend04.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/e01229a37293a5a405d71d93a9bcb2c7/22542/rend04.webp 325w,\n/static/e01229a37293a5a405d71d93a9bcb2c7/e6743/rend04.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"d29b4513-0609-5cfc-af49-817467dbed1f"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#383838","images":{"fallback":{"src":"/static/9d882ca8cce36676cd67ef9667e2a3fd/0618a/top.jpg","srcSet":"/static/9d882ca8cce36676cd67ef9667e2a3fd/b7034/top.jpg 325w,\n/static/9d882ca8cce36676cd67ef9667e2a3fd/0618a/top.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/9d882ca8cce36676cd67ef9667e2a3fd/5a7dc/top.webp 325w,\n/static/9d882ca8cce36676cd67ef9667e2a3fd/e1a77/top.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":502}}]},"parent":{"id":"a190aac4-0483-5e02-b1d3-261f3b5f313a"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f87808","images":{"fallback":{"src":"/static/4a189c576fbeac0c57d8f2234b3447e9/88e48/tc39_logo.png","srcSet":"/static/4a189c576fbeac0c57d8f2234b3447e9/35431/tc39_logo.png 325w,\n/static/4a189c576fbeac0c57d8f2234b3447e9/88e48/tc39_logo.png 350w","sizes":"(min-width: 350px) 350px, 100vw"},"sources":[{"srcSet":"/static/4a189c576fbeac0c57d8f2234b3447e9/3860b/tc39_logo.webp 325w,\n/static/4a189c576fbeac0c57d8f2234b3447e9/6cac9/tc39_logo.webp 350w","type":"image/webp","sizes":"(min-width: 350px) 350px, 100vw"}]},"width":650,"height":650}}]},"parent":{"id":"c5e2431a-cf05-5024-b833-e1c69f680d44"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#5898b8","images":{"fallback":{"src":"/static/b357d2c0705c17d578eb8e190bbbf873/ba405/rend.jpg","srcSet":"/static/b357d2c0705c17d578eb8e190bbbf873/d47aa/rend.jpg 325w,\n/static/b357d2c0705c17d578eb8e190bbbf873/ba405/rend.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/b357d2c0705c17d578eb8e190bbbf873/22542/rend.webp 325w,\n/static/b357d2c0705c17d578eb8e190bbbf873/e6743/rend.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"f49ce388-e81c-5425-af59-9902f125c20f"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#787878","images":{"fallback":{"src":"/static/6babb1bc97c19d7f7609dc992cca3908/be266/top.jpg","srcSet":"/static/6babb1bc97c19d7f7609dc992cca3908/2b7c2/top.jpg 325w,\n/static/6babb1bc97c19d7f7609dc992cca3908/be266/top.jpg 505w","sizes":"(min-width: 505px) 505px, 100vw"},"sources":[{"srcSet":"/static/6babb1bc97c19d7f7609dc992cca3908/3073d/top.webp 325w,\n/static/6babb1bc97c19d7f7609dc992cca3908/9d5f5/top.webp 505w","type":"image/webp","sizes":"(min-width: 505px) 505px, 100vw"}]},"width":650,"height":473.6633663366337}}]},"parent":{"id":"2cfd9e33-b4e1-53e4-884d-d8a6760f3387"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/58a325178249990ce5274f24f2b45376/a9612/fireworks.jpg","srcSet":"/static/58a325178249990ce5274f24f2b45376/3a9da/fireworks.jpg 325w,\n/static/58a325178249990ce5274f24f2b45376/a9612/fireworks.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/58a325178249990ce5274f24f2b45376/47c81/fireworks.webp 325w,\n/static/58a325178249990ce5274f24f2b45376/82ccd/fireworks.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":434}}]},"parent":{"id":"0c5568c9-6d87-56ed-ab0e-caeb9c1aafa4"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/6550a09b59cbb35b118dfed6d6bb847d/96aed/earth.png","srcSet":"/static/6550a09b59cbb35b118dfed6d6bb847d/b1d5f/earth.png 325w,\n/static/6550a09b59cbb35b118dfed6d6bb847d/96aed/earth.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/6550a09b59cbb35b118dfed6d6bb847d/22542/earth.webp 325w,\n/static/6550a09b59cbb35b118dfed6d6bb847d/e6743/earth.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"d4d1afa4-f2f9-5942-ae36-2826fb938af5"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080818","images":{"fallback":{"src":"/static/8d578ed8d8b48ba317de5710d70d5631/ba405/render2.jpg","srcSet":"/static/8d578ed8d8b48ba317de5710d70d5631/d47aa/render2.jpg 325w,\n/static/8d578ed8d8b48ba317de5710d70d5631/ba405/render2.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/8d578ed8d8b48ba317de5710d70d5631/22542/render2.webp 325w,\n/static/8d578ed8d8b48ba317de5710d70d5631/e6743/render2.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"7a8fc278-a847-5b68-8b74-a83193ba3f55"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/24f85c7b20b021ae2a5e2415571df8ff/ba405/top.jpg","srcSet":"/static/24f85c7b20b021ae2a5e2415571df8ff/d47aa/top.jpg 325w,\n/static/24f85c7b20b021ae2a5e2415571df8ff/ba405/top.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/24f85c7b20b021ae2a5e2415571df8ff/22542/top.webp 325w,\n/static/24f85c7b20b021ae2a5e2415571df8ff/e6743/top.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"1086a735-7173-58cc-a813-c540a563aedf"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#382818","images":{"fallback":{"src":"/static/93a6d78e3d337876bd14cd02debe7e77/ba405/rend.jpg","srcSet":"/static/93a6d78e3d337876bd14cd02debe7e77/d47aa/rend.jpg 325w,\n/static/93a6d78e3d337876bd14cd02debe7e77/ba405/rend.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/93a6d78e3d337876bd14cd02debe7e77/22542/rend.webp 325w,\n/static/93a6d78e3d337876bd14cd02debe7e77/e6743/rend.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":366}}]},"parent":{"id":"50951bb1-eb92-5663-a3d8-8f35f73a1322"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#d87858","images":{"fallback":{"src":"/static/3cb0c6d5ac5a7d8dc4fac93e35f9043e/dd9ac/top.jpg","srcSet":"/static/3cb0c6d5ac5a7d8dc4fac93e35f9043e/c21cd/top.jpg 325w,\n/static/3cb0c6d5ac5a7d8dc4fac93e35f9043e/dd9ac/top.jpg 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/3cb0c6d5ac5a7d8dc4fac93e35f9043e/a845f/top.webp 325w,\n/static/3cb0c6d5ac5a7d8dc4fac93e35f9043e/5fe42/top.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":487.00000000000006}}]},"parent":{"id":"29b79017-f96d-5b04-8d01-5b8ee761ebed"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080818","images":{"fallback":{"src":"/static/f2f0cc20eaee74bb0701cb400d43698e/6b08a/top.png","srcSet":"/static/f2f0cc20eaee74bb0701cb400d43698e/b96ce/top.png 325w,\n/static/f2f0cc20eaee74bb0701cb400d43698e/6b08a/top.png 650w","sizes":"(min-width: 650px) 650px, 100vw"},"sources":[{"srcSet":"/static/f2f0cc20eaee74bb0701cb400d43698e/43f70/top.webp 325w,\n/static/f2f0cc20eaee74bb0701cb400d43698e/ddecf/top.webp 650w","type":"image/webp","sizes":"(min-width: 650px) 650px, 100vw"}]},"width":650,"height":603}}]},"parent":{"id":"75696ec6-74a3-5046-8a3c-f39b36d92311"}},{"imageFile":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#081818","images":{"fallback":{"src":"/static/993c3c571dcc12488466435a7b68313b/af4f6/top.png","srcSet":"/static/993c3c571dcc12488466435a7b68313b/e7c33/top.png 325w,\n/static/993c3c571dcc12488466435a7b68313b/af4f6/top.png 602w","sizes":"(min-width: 602px) 602px, 100vw"},"sources":[{"srcSet":"/static/993c3c571dcc12488466435a7b68313b/3e5a1/top.webp 325w,\n/static/993c3c571dcc12488466435a7b68313b/f3e5a/top.webp 602w","type":"image/webp","sizes":"(min-width: 602px) 602px, 100vw"}]},"width":650,"height":414.6179401993356}}]},"parent":{"id":"ebae7878-c4ee-505e-81e2-3d3fc47ea826"}}]}},"pageContext":{"id":"75696ec6-74a3-5046-8a3c-f39b36d92311"}},
    "staticQueryHashes": ["1530353647","63159454"]}